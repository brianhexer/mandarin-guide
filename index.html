<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mandarin Guide</title>

    <!-- PWA Settings -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png"> <!-- Added for iOS -->
    <meta name="theme-color" content="#ffffff"/> <!-- Added theme color -->
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            /* REMOVED: --sidebar-width: 280px; */
            --header-height: 64px;
            /* Modern Color Palette */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc; /* slate-50 */
            /* REMOVED: --bg-sidebar: #f8fafc; */
            --text-primary: #1e293b; /* slate-800 */
            --text-secondary: #64748b; /* slate-500 */
            --text-heading: #0f172a; /* slate-900 */
            --border-color: #e2e8f0; /* slate-200 */
            --accent-color: #3b82f6; /* blue-500 */
            --accent-text-color: #2563eb; /* blue-600 */
            --hover-bg-color: #f1f5f9; /* slate-100 */
            --card-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-md */
            --completed-color: #16a34a; /* green-600 */
            --completed-bg: #f0fdf4; /* green-50 */
        }
        
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #f8fafc 100%);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        /* --- Modernized Styles --- */

        /* REMOVED: All .sidebar, .sidebar a, .sidebar-heading styles */

        .card {
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            overflow: hidden;
        }
        .card-title {
            color: var(--text-heading);
        }
        .text-muted {
            color: var(--text-secondary);
        }

        .header {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid var(--border-color);
        }
        .accent-text {
            color: var(--accent-text-color);
        }

        .listen-btn {
            background-color: var(--hover-bg-color);
            color: var(--text-secondary);
            border: none;
            border-radius: 6px;
            transition: background-color 0.2s, color 0.2s, transform 0.1s;
        }
        .listen-btn:hover {
            background-color: #eff6ff; /* blue-50 */
            color: #2563eb; /* blue-600 */
        }
         .listen-btn:active {
             transform: scale(0.95);
             background-color: #f0fdf4; /* green-50 */
             color: #16a34a; /* green-600 */
         }

        .pinyin {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--hover-bg-color);
            color: #475569; /* slate-600 */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
            border: 1px solid var(--border-color);
        }
        .hanzi {
            font-size: 1.15em;
            font-weight: 500;
            overflow-wrap: break-word; /* NEW: Allow long Chinese text to wrap */
            word-break: break-word; /* Fallback for overflow-wrap */
        }

        .callout {
            background-color: #f0f9ff; /* sky-50 */
            border-left: 4px solid var(--accent-color);
            color: #0c4a6e; /* sky-800 */
            border-radius: 6px;
        }
        .callout .pinyin {
            background-color: #e0f2fe; /* sky-100 */
            color: #075985; /* sky-900 */
            border-color: #bae6fd; /* sky-200 */
        }

        .table {
            border-collapse: separate;
            border-spacing: 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            width: 100%;
        }
        .table th {
            background-color: var(--bg-secondary);
            color: var(--text-heading);
            font-weight: 600;
        }
        .table td, .table th {
            border: none;
            border-bottom: 1px solid var(--border-color);
            padding: 12px 16px;
        }
        .table tbody tr:last-child td {
            border-bottom: none;
        }
        .table tbody tr:hover {
            background-color: var(--hover-bg-color);
        }

        /* REMOVED: .menu-btn styles */
        /* REMOVED: #sidebar-overlay styles */
        /* REMOVED: #sidebar-container styles */
        
        /* Main content padding */
        .main-content {
            padding-top: var(--header-height);
            /* REMOVED: padding-left */
        }

        /* REMOVED: Desktop layout media query for sidebar */

        /* --- NEW STYLES FOR PAGINATION & PROGRESS --- */
        .content-page {
            display: none;
        }
        .content-page.active {
            display: block;
        }

        /* REMOVED: Progress Icons in Sidebar */
        
        /* Page Navigation Buttons */
        .page-footer-nav {
            display: flex;
            flex-direction: column; /* MOBILE-FIRST: Stack button groups */
            gap: 1rem; /* Space between button groups */
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .page-footer-nav > div { /* Target the immediate children divs */
            display: grid; /* Make buttons stack */
            grid-template-columns: 1fr;
            gap: 0.75rem;
        }

        @media (min-width: 640px) { /* sm breakpoint */
            .page-footer-nav {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            .page-footer-nav > div {
                display: flex; /* Go back to flex */
                flex-direction: row;
                grid-template-columns: none; /* Reset grid */
            }
        }

        .mark-complete-btn, .next-page-btn, .prev-page-btn, .home-page-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.625rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
        }
        .mark-complete-btn:hover, .next-page-btn:hover, .prev-page-btn:hover {
            background-color: var(--hover-bg-color);
            border-color: #cbd5e1; /* slate-300 */
        }
        .mark-complete-btn.is-completed {
            background-color: var(--completed-bg);
            border-color: #bbf7d0; /* green-200 */
            color: var(--completed-color);
        }
        .next-page-btn {
            background-color: #16a34a; /* green-600 */
            border-color: #16a34a; /* green-600 */
            color: white;
        }
        .next-page-btn:hover {
            background-color: #15803d; /* green-700 */
            border-color: #15803d; /* green-700 */
            color: white;
        }
        .prev-page-btn {
            border-color: #dc2626; /* red-600 */
            color: #dc2626; /* red-600 */
        }
        .prev-page-btn:hover {
            background-color: #fef2f2; /* red-50 */
            border-color: #b91c1c; /* red-700 */
            color: #b91c1c; /* red-700 */
        }
        .home-page-btn {
            border-color: #3b82f6; /* blue-500 */
            color: #3b82f6; /* blue-500 */
        }
        .home-page-btn:hover {
            background-color: #eff6ff; /* blue-50 */
            border-color: #2563eb; /* blue-600 */
            color: #2563eb; /* blue-600 */
        }

        /* MODAL STYLES (Unchanged) */
        #next-lesson-modal {
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
        }
        #next-lesson-modal[aria-hidden="true"] {
            opacity: 0;
            visibility: hidden;
        }
        #next-lesson-modal[aria-hidden="false"] {
            opacity: 1;
            visibility: visible;
        }
        #next-lesson-modal[aria-hidden="false"] #modal-overlay {
            opacity: 1;
        }
        #next-lesson-modal[aria-hidden="false"] > div:last-child {
            transform: scale(1);
            opacity: 1;
        }

        #modal-overlay {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        #next-lesson-modal > div:last-child {
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.2s ease-in-out;
        }
        
        /* --- NEW: Home Page Navigation Styles --- */
        .nav-dropdown summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--bg-secondary);
            padding: 0.75rem 1.25rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s, color 0.2s;
            font-weight: 600;
            color: var(--text-heading);
        }
        .nav-dropdown summary:hover {
            background-color: #eff6ff; /* blue-50 */
            border-color: #bfdbfe; /* blue-200 */
            color: var(--accent-text-color); /* blue-600 */
        }
        .nav-dropdown summary::after { /* Dropdown arrow */
            content: '‚ñº';
            font-size: 0.7em;
            color: var(--text-secondary);
            transition: transform 0.2s;
        }
        .nav-dropdown[open] summary::after {
            transform: rotate(180deg);
        }
        .nav-dropdown-content {
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 8px 8px;
            margin-top: -8px; /* Pull up to meet summary */
            background-color: var(--bg-primary);
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.6rem 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border-radius: 6px;
            text-decoration: none;
            transition: background-color 0.2s, color 0.2s;
        }
        .nav-link:hover {
            background-color: #eff6ff; /* blue-50 */
            color: var(--accent-text-color); /* blue-600 */
        }
        .nav-link.is-viewing { 
            background-color: #e0f2fe; /* sky-100 */
            color: var(--accent-text-color);
            font-weight: 500;
        }
        .nav-link.is-completed {
            color: #3f6212; /* lime-800 */
        }
        .nav-link.is-viewing.is-completed {
            background-color: #dcfce7; /* green-100 */
            color: #15803d; /* green-700 */
        }

        /* Progress Icons for new nav */
        .nav-link .progress-icons {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        .nav-link .icon-eye,
        .nav-link .icon-tick {
            display: none;
            width: 16px;
            height: 16px;
        }
        .nav-link.is-viewing .icon-eye {
            display: inline-block;
            color: var(--accent-color);
        }
        .nav-link.is-completed .icon-tick {
            display: inline-block;
            color: var(--completed-color);
        }
        .nav-link.is-viewing.is-completed .icon-eye {
            display: none;
        }

        /* --- NEW: Welcome Animations --- */
        .typewriter {
            display: inline-block;
            overflow: hidden; /* Ensures the text is not visible until typed */
            white-space: nowrap; /* Keeps the text on a single line */
            /* REMOVED: border-right: .1em solid var(--accent-color); */
            letter-spacing: .05em; /* A bit tighter */
            animation: 
                typing 4s steps(17, end) infinite; /* MODIFIED: Removed blink-caret animation */
            max-width: 100%; /* Ensure it doesn't overflow */
        }

        /* The typing effect */
        @keyframes typing {
          0%   { width: 0 }
          40%  { width: 100% } /* Type and hold */
          90%  { width: 100% } /* Hold longer */
          100% { width: 0 }    /* Reset for loop */
        }

        /* REMOVED: @keyframes blink-caret */

        /* --- ADDED BACK: Wave Animation --- */
        .wave {
            display: inline-block;
            animation: wave-animation 2.5s infinite;
            transform-origin: 70% 70%;
        }

        @keyframes wave-animation {
           0% { transform: rotate( 0.0deg) }
           10% { transform: rotate(14.0deg) }
           20% { transform: rotate(-8.0deg) }
           30% { transform: rotate(14.0deg) }
           40% { transform: rotate(-4.0deg) }
           50% { transform: rotate(10.0deg) }
           60% { transform: rotate( 0.0deg) }  /* pause */
          100% { transform: rotate( 0.0deg) }
        }

        /* --- NEW: Typewriter Button Animation --- */
        .typewriter-button {
            overflow: hidden;
            white-space: nowrap;
            vertical-align: bottom; /* Aligns animated text with the icon */
            animation: typing-button 3s steps(6, end) infinite;
        }

        @keyframes typing-button {
            0%   { width: 0 }
            40%  { width: 100% } /* Type */
            80%  { width: 100% } /* Hold */
            100% { width: 0 }    /* Erase */
        }

        /* --- NEW: Search Modal Styles --- */
        #search-modal {
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
        }
        #search-modal[aria-hidden="true"] {
            opacity: 0;
            visibility: hidden;
        }
        #search-modal[aria-hidden="false"] {
            opacity: 1;
            visibility: visible;
        }
        #search-modal[aria-hidden="false"] #search-modal-overlay {
            opacity: 1;
        }
        #search-modal[aria-hidden="false"] > div:last-child {
            transform: translateY(0);
            opacity: 1;
        }

        #search-modal-overlay {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        #search-modal > div:last-child {
            opacity: 0;
            transform: translateY(-20px); /* Animate from top */
            transition: all 0.2s ease-in-out;
        }
        
        .search-result-item {
            display: block;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            transition: background-color 0.2s;
            text-decoration: none;
            color: var(--text-primary);
        }
        .search-result-item:hover {
            background-color: var(--hover-bg-color);
        }
        .search-result-item h4 {
            color: var(--accent-text-color);
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        .search-result-item p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            /* Truncate snippet */
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    </style>
</head>
<body class="antialiased">

    <!-- NEW: T&C OVERLAY -->
    <div id="tos-page" class="fixed inset-0 z-[60] bg-white p-4 sm:p-8 flex items-center justify-center hidden">
        <div class="w-full max-w-3xl bg-white rounded-xl shadow-2xl p-6 md:p-8 flex flex-col max-h-[90vh]">
            <h2 class="text-2xl font-bold text-slate-900 mb-4">Terms & Privacy Policy</h2>
            <div class="space-y-4 text-slate-600 text-sm overflow-y-auto pr-2 flex-grow min-h-[200px]">
                <h3 class="font-semibold text-slate-800">1. Introduction</h3>
                <p>Welcome to Mandarin Guide ("Application"). This Application is provided as a personal learning tool. By clicking "Accept & Continue", you agree to be bound by these Terms and Conditions ("Terms"). If you disagree with any part of the terms, you may not use the Application.</p>
                
                <h3 class="font-semibold text-slate-800">2. Privacy Policy</h3>
                <p>We respect your privacy. This Application is designed to work entirely offline and in your browser.</p>
                <ul class="list-disc list-inside space-y-1 pl-4">
                    <li><strong>Data Storage:</strong> All your progress data (such as completed lessons) and your name are stored locally on your device using your browser's <code class="text-xs p-1 bg-slate-100 rounded">localStorage</code>.</li>
                    <li><strong>No Data Collection:</strong> We do not collect, transmit, or store any of your personal data or usage analytics on any external servers. Your progress and name stay on your computer or mobile device.</li>
                    <li><strong>External Links:</strong> The Application contains links to external sites (like Instagram and GitHub) that are not operated by us. If you click on a third-party link, you will be directed to that third party's site. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.</li>
                </ul>

                <h3 class="font-semibold text-slate-800">3. Local Storage</h3>
                <p>You acknowledge and agree that the Application relies on <code class="text-xs p-1 bg-slate-100 rounded">localStorage</code> to save your progress. If you clear your browser's cache or data, your progress will be permanently lost. We are not responsible for any loss of data.</p>
                
                <h3 class="font-semibold text-slate-800">4. Disclaimer of Warranties</h3>
                <p>The Application is provided "as is", without warranty of any kind, express or implied. The content is for educational purposes only and we make no guarantees regarding its accuracy or completeness.</p>

                <h3 class="font-semibold text-slate-800">5. Changes to Terms</h3>
                <p>We reserve the right to modify these terms at any time. If we do, we may require you to accept the new terms to continue using the Application. (For this demo, this will not happen).</p>
            </div>
            <div class="mt-6 pt-6 border-t border-slate-200 flex-shrink-0">
                <!-- MODIFIED: Name Input -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="given-name-input" class="block text-sm font-medium text-slate-700 mb-1">Given Name:</label>
                        <input type="text" id="given-name-input" placeholder="Your Given Name" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <p id="given-name-error" class="text-red-600 text-sm mt-1 h-4"></p> <!-- Error message placeholder -->
                    </div>
                    <div>
                        <label for="surname-input" class="block text-sm font-medium text-slate-700 mb-1">Surname:</label>
                        <input type="text" id="surname-input" placeholder="Your Surname" class="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <p id="surname-error" class="text-red-600 text-sm mt-1 h-4"></p> <!-- Error message placeholder -->
                    </div>
                </div>
                <!-- END MODIFIED -->
                <button id="tos-accept-btn" class="w-full next-page-btn text-base py-3">
                    Accept & Continue
                </button>
            </div>
        </div>
    </div>
    <!-- END T&C OVERLAY -->

    <!-- REMOVED: OVERLAY FOR MOBILE SIDEBAR -->

    <!-- HEADER -->
    <!-- MODIFIED: Added the 'hidden' class to hide by default -->
    <header class="header fixed top-0 left-0 right-0 z-40 h-[var(--header-height)] flex items-center px-4 md:px-6 hidden">
        <!-- REMOVED: Mobile Menu Button -->
        
        <!-- App Title & Logo Wrapper -->
        <div class="flex items-center gap-2">
            <img src="icon-192.png" alt="Mandarin Guide Logo" class="w-8 h-8">
            <h1 class="text-xl font-semibold accent-text">Mandarin Guide</h1>
        </div>
        
        <!-- Social Links Container -->
        <div class="ml-auto flex items-center space-x-2"> <!-- Always visible -->
            
            <!-- REMOVED: Search Icon Button -->
            
            <span class="text-sm text-slate-600 hidden sm:inline">Connect with Admin &gt;&gt;&gt;</span>
            
            <!-- Profile Pic Placeholder -->
            <div class="w-8 h-8 rounded-full bg-slate-200 border border-slate-300 flex items-center justify-center overflow-hidden">
                 <img class="w-full h-full object-cover" 
                      src="./images/profile.jpg" 
                      alt="Brian's profile picture"
                      onerror="this.parentElement.innerHTML = `<svg class='w-6 h-6 text-slate-400' fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z' clip-rule='evenodd'></path></svg>`">
            </div>

            <!-- Instagram Button -->
            <a href="https://www.instagram.com/brian_offl/" target="_blank" rel="noopener noreferrer" class="insta-btn group flex items-center border border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white text-sm font-medium py-2 px-2 sm:px-3 rounded-lg transition-all hover:scale-105 transform"> <!-- MODIFIED: Added group, px-2 sm:px-3, transition-all, hover:scale-105, transform -->
                <svg class="w-4 h-4 transition-transform group-hover:scale-[0.9523]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <!-- MODIFIED: Added transition-transform, group-hover:scale -->
                    <rect x="2" y="2" width="20" height="20" rx="5.657" ry="5.657"></rect>
                    <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
                </svg>
                <span class="hidden sm:inline-block ml-2 typewriter-button">Insta</span> <!-- MODIFIED: Added hidden sm:inline-block -->
            </a>
            <!-- GitHub Button -->
            <a href="https://github.com/brianhexer" target="_blank" rel="noopener noreferrer" class="group flex items-center border border-gray-700 text-gray-700 hover:bg-gray-700 hover:text-white text-sm font-medium py-2 px-2 sm:px-3 rounded-lg transition-all hover:scale-105 transform"> <!-- MODIFIED: Added group, px-2 sm:px-3, transition-all, hover:scale-105, transform -->
                <svg class="w-4 h-4 transition-transform group-hover:scale-[0.9523]" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"> <!-- MODIFIED: Added transition-transform, group-hover:scale -->
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                <span class="hidden sm:inline-block ml-2 typewriter-button">GitHub</span> <!-- MODIFIED: Added hidden sm:inline-block -->
            </a>

            <!-- NEW: Search Icon Button (MOVED HERE) -->
            <button type="button" aria-label="Search" id="search-icon-btn" class="p-2 rounded-full text-slate-500 border border-slate-300 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"> <!-- MODIFIED: Changed border-transparent to border-slate-300 -->
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </button>
            <!-- END NEW -->
        </div>
    </header>

    <!-- REMOVED: SIDEBAR -->

    <!-- MAIN CONTENT -->
    <!-- MODIFIED: Added the 'hidden' class to hide by default -->
    <main class="main-content hidden"> <!-- No padding-left anymore -->
        <div class="p-6 md:p-10">
            <div class="max-w-4xl mx-auto"> <!-- This centers the content -->
                
                <!-- Welcome Section -->
                <article class="content-page card" data-page-id="home">
                    <div class="p-6 md:p-10 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-xl">
                        <h1 class="text-3xl md:text-4xl font-bold mb-2 text-slate-900 flex items-center min-h-[3rem]"> <!-- Added min-height for layout stability -->
                            <!-- MODIFIED: Added id="welcome-message" -->
                            <span class="typewriter" id="welcome-message">Welcome Buddy! <span class="wave">üëãüèª</span></span>
                        </h1>
                        <p class="text-lg text-slate-600">Your personal Mandarin learning journey starts here. Use the navigation below to explore lessons, or click to begin with Lesson 1.</p>
                    </div>
                    <div class="p-6 md:p-10">
                        <h2 class="text-2xl font-semibold mb-4">How this works</h2>
                        <p class="mb-4 text-muted">This guide is broken down into 4 levels. Each lesson is its own page.</p>
                        <ul class="list-disc list-inside space-y-2 text-muted">
                            <li>Use the dropdowns below to find and jump to any lesson.</li>
                            <li>Use the "Mark as Completed" button at the bottom of each page to track your progress.</li>
                            <li>Your progress is saved, so you can pick up right where you left off.</li>
                        </ul>
                        
                        <!-- NEW: Home Page Install Button -->
                        <button id="home-install-btn" class="hidden mt-6 w-full sm:w-auto flex items-center justify-center next-page-btn">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                            <span>Install App for Offline Use</span>
                        </button>
                        
                        <!-- NEW: Progress Bar (Moved from Sidebar) -->
                        <div class="mt-8 pt-4 border-t border-slate-200">
                            <span class="text-xs font-semibold text-slate-500 uppercase tracking-wider">Course Progress</span>
                            <div id="progress-bar-container" class="w-full bg-slate-200 rounded-full h-2.5 my-2 overflow-hidden">
                                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                            </div>
                            <span id="progress-text" class="text-sm text-slate-600">0 / 33 Completed</span>
                        </div>

                        <!-- NEW: Home Page Navigation -->
                        <div class="mt-6 space-y-3">
                            <h2 class="text-xl font-semibold mb-2">Course Navigation</h2>
                            
                            <!-- Level 1 -->
                            <details class="nav-dropdown group">
                                <summary>Level 1: The Basics</summary>
                                <div class="nav-dropdown-content">
                                    <a href="#" data-page-id="lesson1" class="nav-link"><span>Lesson 1: The Tones (ËÅ≤Ë™ø)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson2" class="nav-link"><span>Lesson 2: Basic Greetings (ÂïèÂÄô)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson3" class="nav-link"><span>Lesson 3: Common Courtesies (Á¶ÆË≤å)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson4" class="nav-link"><span>Lesson 4: Numbers 0-10,000 (Êï∏Â≠ó)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson5" class="nav-link"><span>Lesson 5: Introductions (‰ªãÁ¥π)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson6" class="nav-link"><span>Lesson 6: Yes, No & 'Bu' (ÊòØ, ‰∏ç)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson7" class="nav-link"><span>Lesson 7: Question Words (5W1H) (ÁñëÂïèË©û)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson8" class="nav-link"><span>Lesson 8: Buying Things (Ë≤∑Êù±Ë•ø)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                </div>
                            </details>

                            <!-- Level 2 -->
                            <details class="nav-dropdown group">
                                <summary>Level 2: Core Grammar</summary>
                                <div class="nav-dropdown-content">
                                    <a href="#" data-page-id="lesson9" class="nav-link"><span>Lesson 9: Using 'le' (‰∫Ü)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson10" class="nav-link"><span>Lesson 10: Using 'guo' (ÈÅé)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson11" class="nav-link"><span>Lesson 11: Using 'zai' (Âú®)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson12" class="nav-link"><span>Lesson 12: Dates & Time</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson13" class="nav-link"><span>Lesson 13: Measure Words (ÈáèË©û)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson14" class="nav-link"><span>Lesson 14: 'De' Particles (ÁöÑ, Âú∞, Âæó)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson15" class="nav-link"><span>Lesson 15: Comparisons (ÊØî, Ë∑ü)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson16" class="nav-link"><span>Lesson 16: 'Ba' Sentence (Êää)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                </div>
                            </details>

                            <!-- Level 3 -->
                            <details class="nav-dropdown group">
                                <summary>Level 3: Adv. & Pro</summary>
                                <div class="nav-dropdown-content">
                                    <a href="#" data-page-id="lesson17" class="nav-link"><span>Lesson 17: Result Complements</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson18" class="nav-link"><span>Lesson 18: Directional Complements</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson19" class="nav-link"><span>Lesson 19: Hobbies & Social</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson20" class="nav-link"><span>Lesson 20: Ordering Food</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson21" class="nav-link"><span>Lesson 21: Modern Tech & Slang</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson22" class="nav-link"><span>Lesson 22: Business & Work</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="lesson23" class="nav-link"><span>Lesson 23: Common Idioms (ÊàêË™û)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                </div>
                            </details>

                            <!-- Level 4 -->
                            <details class="nav-dropdown group">
                                <summary>Level 4: Detailed Chapters</summary>
                                <div class="nav-dropdown-content">
                                    <a href="#" data-page-id="chapter1" class="nav-link"><span>Chapter 1: Mandarin Alphabets</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter2" class="nav-link"><span>Chapter 2: Numbers (Detailed)</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter3" class="nav-link"><span>Chapter 3: Vegetables & Fruits</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter4" class="nav-link"><span>Chapter 4: Daily Life Products</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter5" class="nav-link"><span>Chapter 5: Family Conversations</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter6" class="nav-link"><span>Chapter 6: Friend Conversations</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter7" class="nav-link"><span>Chapter 7: Work Conversations</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter8" class="nav-link"><span>Chapter 8: School & Business</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter9" class="nav-link"><span>Chapter 9: Core Vocabulary</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                    <a href="#" data-page-id="chapter10" class="nav-link"><span>Chapter 10: Test Yourself</span><span class="progress-icons"><svg class="icon-eye" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg><svg class="icon-tick" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span></a>
                                </div>
                            </details>
                        </div>
                        
                        <!-- "Start Learning" button moved to the end of the "how it works" section -->
                         <div class="page-footer-nav mt-8 pt-0 border-t-0 flex justify-end">
                            <button class="next-page-btn" data-next-page-id="lesson1">
                                <span>Start Learning (Lesson 1)</span>
                                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Level 1: The Basics -->
                <section id="level1" class="content-page-container">
                    <!-- Lesson 1: The Tones -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson1">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 1: The Tones (ËÅ≤Ë™ø)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Mandarin is a tonal language. The "pitch" or contour of your voice changes the meaning of a syllable. Pinyin (ÊãºÈü≥) helps us write these sounds and tones. There are four main tones plus a neutral one.</p>
                        <ul class="space-y-4">
                            <li><strong>1st Tone (<span class="pinyin">mƒÅ</span>):</strong> High & Level. Think of a sustained musical note. <span class="hanzi" data-speak="Â™Ω">Â™Ω</span> (<span class="pinyin">mƒÅ</span>) - mother</li>
                            <li><strong>2nd Tone (<span class="pinyin">m√°</span>):</strong> Rising. Like asking a question, "Huh?". <span class="hanzi" data-speak="È∫ª">È∫ª</span> (<span class="pinyin">m√°</span>) - hemp</li>
                            <li><strong>3rd Tone (<span class="pinyin">m«é</span>):</strong> Dipping. Down, then up slightly. <span class="hanzi" data-speak="È¶¨">È¶¨</span> (<span class="pinyin">m«é</span>) - horse</li>
                            <li><strong>4th Tone (<span class="pinyin">m√†</span>):</strong> Falling. A sharp, quick drop, like a command. <span class="hanzi" data-speak="ÁΩµ">ÁΩµ</span> (<span class="pinyin">m√†</span>) - to scold</li>
                            <li><strong>Neutral Tone (<span class="pinyin">ma</span>):</strong> Light & Quick. No tone mark, pronounced softly. <span class="hanzi" data-speak="Âóé">Âóé</span> (<span class="pinyin">ma</span>) - question particle</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Tone Pair Practice</h4>
                        <p class="mb-4 text-muted">Mandarin words are often 2 syllables. Practicing common tone pairs is essential for fluency.</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>1+1:</span> <span class="hanzi" data-speak="‰ªäÂ§©">‰ªäÂ§©</span> (<span class="pinyin">jƒ´ntiƒÅn</span>) - today</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>1+2:</span> <span class="hanzi" data-speak="‰∏≠Âúã">‰∏≠Âúã</span> (<span class="pinyin">Zh≈çnggu√≥</span>) - China</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>1+3:</span> <span class="hanzi" data-speak="ÈñãËªä">ÈñãËªä</span> (<span class="pinyin">kƒÅichƒì</span>) - drive car</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>1+4:</span> <span class="hanzi" data-speak="È£õÊ©ü">È£õÊ©ü</span> (<span class="pinyin">fƒìij√¨</span>) - airplane</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>2+1:</span> <span class="hanzi" data-speak="ÁæéÂúã">ÁæéÂúã</span> (<span class="pinyin">Mƒõigu√≥</span>) - America</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>2+2:</span> <span class="hanzi" data-speak="ÊúãÂèã">ÊúãÂèã</span> (<span class="pinyin">p√©ngyou</span>) - friend</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>2+3:</span> <span class="hanzi" data-speak="ÈäÄË°å">ÈäÄË°å</span> (<span class="pinyin">y√≠nh√°ng</span>) - bank</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>2+4:</span> <span class="hanzi" data-speak="ÂõûÁ≠î">ÂõûÁ≠î</span> (<span class="pinyin">hu√≠d√°</span>) - answer</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>3+1:</span> <span class="hanzi" data-speak="‰Ω†Â•Ω">‰Ω†Â•Ω</span> (<span class="pinyin">n«ê h«éo</span>) - hello</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>3+2:</span> <span class="hanzi" data-speak="Ê∞¥Êûú">Ê∞¥Êûú</span> (<span class="pinyin">shu«êgu«í</span>) - fruit</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>3+3:</span> <span class="hanzi" data-speak="‰Ω†Â•Ω">‰Ω†Â•Ω</span> (<span class="pinyin">n«ê h«éo</span>) - hello <em class="text-xs text-slate-500">(spoken as 2+3)</em></div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>3+4:</span> <span class="hanzi" data-speak="ÂñúÊ≠°">ÂñúÊ≠°</span> (<span class="pinyin">x«êhuan</span>) - like</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>4+1:</span> <span class="hanzi" data-speak="ÂÜçË¶ã">ÂÜçË¶ã</span> (<span class="pinyin">z√†iji√†n</span>) - goodbye</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>4+2:</span> <span class="hanzi" data-speak="ÈõªË¶ñ">ÈõªË¶ñ</span> (<span class="pinyin">di√†nsh√¨</span>) - TV</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>4+3:</span> <span class="hanzi" data-speak="ËÄÉË©¶">ËÄÉË©¶</span> (<span class="pinyin">k«éosh√¨</span>) - test</div> <!-- MODIFIED -->
                            <div class="pinyin flex items-center justify-start flex-wrap gap-x-2 rounded-md"><span>4+4:</span> <span class="hanzi" data-speak="Ë¨ùË¨ù">Ë¨ùË¨ù</span> (<span class="pinyin">xi√®xie</span>) - thanks <em class="text-xs text-slate-500">(2nd is neutral)</em></div> <!-- MODIFIED -->
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Back to Home</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson1"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson2"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                    </article>

                    <!-- NEW: Lesson 2: Basic Greetings (Re-added) -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson2">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 2: Basic Greetings (ÂïèÂÄô)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Let's learn the most basic greetings. These are essential for starting any conversation. We will focus on Traditional Chinese, common in Taiwan.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Hello (‰Ω†Â•Ω)</h4>
                        <ul class="space-y-4">
                            <li><strong>Hello:</strong> <span class="hanzi" data-speak="‰Ω†Â•Ω">‰Ω†Â•Ω</span> (<span class="pinyin">n«ê h«éo</span>)
                                <br><small class="text-muted">"You good". The most common greeting. You can say this to anyone.</small></li>
                            
                            <li><strong>Hello (polite, singular):</strong> <span class="hanzi" data-speak="ÊÇ®Â•Ω">ÊÇ®Â•Ω</span> (<span class="pinyin">n√≠n h«éo</span>)
                                <br><small class="text-muted">Used for elders, teachers, or in formal situations. "You (polite) good".</small></li>
                            
                            <li><strong>Hello (plural):</strong> <span class="hanzi" data-speak="‰Ω†ÂÄëÂ•Ω">‰Ω†ÂÄëÂ•Ω</span> (<span class="pinyin">n«êmen h«éo</span>)
                                <br><small class="text-muted">Used to greet a group of people. "You (plural) good".</small></li>
                            
                            <li><strong>How are you?:</strong> <span class="hanzi" data-speak="‰Ω†Â•ΩÂóé">‰Ω†Â•ΩÂóé?</span> (<span class="pinyin">n«ê h«éo ma?</span>)
                                <br><small class="text-muted">The classic textbook "How are you?". The particle <span class="pinyin">ma</span> turns it into a question.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Time-Specific Greetings</h4>
                        <ul class="space-y-4">
                            <li><strong>Good morning:</strong> <span class="hanzi" data-speak="Êó©ÂÆâ">Êó©ÂÆâ</span> (<span class="pinyin">z«éo ƒÅn</span>)
                                <br><small class="text-muted">Very common. (Literally "morning peace")</small></li>
                            
                            <li><strong>Good afternoon:</strong> <span class="hanzi" data-speak="ÂçàÂÆâ">ÂçàÂÆâ</span> (<span class="pinyin">w«î ƒÅn</span>)
                                <br><small class="text-muted">The standard afternoon greeting. (Literally "noon peace")</small></li>
                            
                            <li><strong>Good night:</strong> <span class="hanzi" data-speak="ÊôöÂÆâ">ÊôöÂÆâ</span> (<span class="pinyin">w«én ƒÅn</span>)
                                <br><small class="text-muted">"Evening peace". Used when leaving for the night or going to sleep.</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Saying Goodbye</h4>
                        <ul class="space-y-4">
                            <li><strong>Goodbye:</strong> <span class="hanzi" data-speak="ÂÜçË¶ã">ÂÜçË¶ã</span> (<span class="pinyin">z√†iji√†n</span>)
                                <br><small class="text-muted">"See you again". The standard, all-purpose goodbye.</small></li>
                            
                            <li><strong>Bye-bye:</strong> <span class="hanzi" data-speak="ÊãúÊãú">ÊãúÊãú</span> (<span class="pinyin">bƒÅibai</span>)
                                <br><small class="text-muted">A casual, common alternative (from English).</small></li>
                        </ul>

                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="lesson1">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Previous Lesson</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson2"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson3"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                    </article>
                    <!-- END NEW Lesson 2 -->

                    <!-- NEW: Lesson 3: Common Courtesies (Re-added) -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson3">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 3: Common Courtesies (Á¶ÆË≤å)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Polite phrases are essential for daily interaction. Using them shows respect and makes communication much smoother. These are some of the first words you should learn.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Saying "Thank You" (Ë¨ùË¨ù)</h4>
                        <ul class="space-y-4">
                            <li><strong>Thank you:</strong> <span class="hanzi" data-speak="Ë¨ùË¨ù">Ë¨ùË¨ù</span> (<span class="pinyin">xi√®xie</span>)
                                <br><small class="text-muted">The most common and universal way to say thanks.</small></li>
                            
                            <li><strong>Many thanks:</strong> <span class="hanzi" data-speak="Â§öË¨ù">Â§öË¨ù</span> (<span class="pinyin">du≈çxi√®</span>)
                                <br><small class="text-muted">"Many thanks." Often used when receiving a gift or a significant favor.</small></li>

                            <li><strong>Thank you (Formal):</strong> <span class="hanzi" data-speak="ÊÑüË¨ù‰Ω†">ÊÑüË¨ù‰Ω†</span> (<span class="pinyin">g«énxi√® n«ê</span>)
                                <br><small class="text-muted">"Grateful to you." This is more formal and heartfelt.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Saying "You're Welcome" (‰∏çÂÆ¢Ê∞£)</h4>
                        <ul class="space-y-4">
                            <li><strong>You're welcome:</strong> <span class="hanzi" data-speak="‰∏çÂÆ¢Ê∞£">‰∏çÂÆ¢Ê∞£</span> (<span class="pinyin">b√∫ k√®qi</span>)
                                <br><small class="text-muted">The standard reply. (Literally "Don't be a guest" / "Don't be polite")</small></li>
                            
                            <li><strong>Not at all:</strong> <span class="hanzi" data-speak="‰∏çÊúÉ">‰∏çÊúÉ</span> (<span class="pinyin">b√∫ hu√¨</span>)
                                <br><small class="text-muted">Very common in Taiwan. (Literally "it's not [a big deal]")</small></li>
                            
                            <li><strong>No need to thank:</strong> <span class="hanzi" data-speak="‰∏çÁî®Ë¨ù">‰∏çÁî®Ë¨ù</span> (<span class="pinyin">b√∫ y√≤ng xi√®</span>)
                                <br><small class="text-muted">"No need for thanks." Also very common and slightly more casual.</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Saying "Sorry" (Â∞ç‰∏çËµ∑)</h4>
                        <ul class="space-y-4">
                            <li><strong>Sorry:</strong> <span class="hanzi" data-speak="Â∞ç‰∏çËµ∑">Â∞ç‰∏çËµ∑</span> (<span class="pinyin">du√¨buq«ê</span>)
                                <br><small class="text-muted">Used for more significant mistakes or when you've genuinely done something wrong.</small></li>
                            
                            <li><strong>Excuse me / Sorry:</strong> <span class="hanzi" data-speak="‰∏çÂ•ΩÊÑèÊÄù">‰∏çÂ•ΩÊÑèÊÄù</span> (<span class="pinyin">b√π h«éoy√¨si</span>)
                                <br><small class="text-muted">Very common. Used for minor inconveniences (bumping into someone), getting someone's attention, or feeling embarrassed.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Replying to "Sorry" (Ê≤íÈóú‰øÇ)</h4>
                        <ul class="space-y-4">
                            <li><strong>It's okay / No problem:</strong> <span class="hanzi" data-speak="Ê≤íÈóú‰øÇ">Ê≤íÈóú‰øÇ</span> (<span class="pinyin">m√©i guƒÅnxi</span>)
                                <br><small class="text-muted">The standard, polite reply to <span class="pinyin">du√¨buq«ê</span>. (Literally "it has no relation / it's not a big deal")</small></li>
                            
                            <li><strong>It's nothing:</strong> <span class="hanzi" data-speak="Ê≤í‰∫ã">Ê≤í‰∫ã</span> (<span class="pinyin">m√©i sh√¨</span>)
                                <br><small class="text-muted">A more casual reply. (Literally "no thing" / "no event")</small></li>
                        </ul>

                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="lesson2">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Previous Lesson</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson3"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson4"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                    </article>
                    <!-- END NEW Lesson 3 -->

                    <!-- NEW: Lesson 4: Numbers (Re-added) -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson4">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 4: Numbers 0-10,000 (Êï∏Â≠ó)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Understanding numbers is crucial for everything from telling time to buying things. Let's start with the basics and build our way up.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Numbers 0-10</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Number</th>
                                        <th>Character</th>
                                        <th>Pinyin</th>
                                    </tr>
                                <thead>
                                <tbody>
                                    <tr><td>0</td><td><span class="hanzi" data-speak="Èõ∂">Èõ∂</span></td><td><span class="pinyin">l√≠ng</span></td></tr>
                                    <tr><td>1</td><td><span class="hanzi" data-speak="‰∏Ä">‰∏Ä</span></td><td><span class="pinyin">yƒ´</span></td></tr>
                                    <tr><td>2</td><td><span class="hanzi" data-speak="‰∫å">‰∫å</span></td><td><span class="pinyin">√®r</span></td></tr>
                                    <tr><td>3</td><td><span class="hanzi" data-speak="‰∏â">‰∏â</span></td><td><span class="pinyin">sƒÅn</span></td></tr>
                                    <tr><td>4</td><td><span class="hanzi" data-speak="Âõõ">Âõõ</span></td><td><span class="pinyin">s√¨</span></td></tr>
                                    <tr><td>5</td><td><span class="hanzi" data-speak="‰∫î">‰∫î</span></td><td><span class="pinyin">w«î</span></td></tr>
                                    <tr><td>6</td><td><span class="hanzi" data-speak="ÂÖ≠">ÂÖ≠</span></td><td><span class="pinyin">li√π</span></td></tr>
                                    <tr><td>7</td><td><span class="hanzi" data-speak="‰∏É">‰∏É</span></td><td><span class="pinyin">qƒ´</span></td></tr>
                                    <tr><td>8</td><td><span class="hanzi" data-speak="ÂÖ´">ÂÖ´</span></td><td><span class="pinyin">bƒÅ</span></td></tr>
                                    <tr><td>9</td><td><span class="hanzi" data-speak="‰πù">‰πù</span></td><td><span class="pinyin">ji«î</span></td></tr>
                                    <tr><td>10</td><td><span class="hanzi" data-speak="ÂçÅ">ÂçÅ</span></td><td><span class="pinyin">sh√≠</span></td></tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Constructing Numbers (11-99)</h4>
                        <p class="mb-4 text-muted">Mandarin numbers follow a simple, logical structure.</p>
                        <ul class="space-y-4">
                            <li><strong>11 to 19:</strong> "Ten" + Number.
                                <br><small class="text-muted">Ex: 11 is "ten-one": <span class="hanzi" data-speak="ÂçÅ‰∏Ä">ÂçÅ‰∏Ä</span> (<span class="pinyin">sh√≠ yƒ´</span>)</small>
                                <br><small class="text-muted">Ex: 17 is "ten-seven": <span class="hanzi" data-speak="ÂçÅ‰∏É">ÂçÅ‰∏É</span> (<span class="pinyin">sh√≠ qƒ´</span>)</small></li>
                            <li><strong>Multiples of 10:</strong> Number + "Ten".
                                <br><small class="text-muted">Ex: 20 is "two-ten": <span class="hanzi" data-speak="‰∫åÂçÅ">‰∫åÂçÅ</span> (<span class="pinyin">√®r sh√≠</span>)</small>
                                <br><small class="text-muted">Ex: 50 is "five-ten": <span class="hanzi" data-speak="‰∫îÂçÅ">‰∫îÂçÅ</span> (<span class="pinyin">w«î sh√≠</span>)</small></li>
                            <li><strong>Other Numbers (21-99):</strong> (Number + "Ten") + Number.
                                <br><small class="text-muted">Ex: 25 is "two-ten-five": <span class="hanzi" data-speak="‰∫åÂçÅ‰∫î">‰∫åÂçÅ‰∫î</span> (<span class="pinyin">√®r sh√≠ w«î</span>)</small>
                                <br><small class="text-muted">Ex: 83 is "eight-ten-three": <span class="hanzi" data-speak="ÂÖ´ÂçÅ‰∏â">ÂÖ´ÂçÅ‰∏â</span> (<span class="pinyin">bƒÅ sh√≠ sƒÅn</span>)</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Larger Numbers</h4>
                        <ul class="space-y-4">
                            <li><strong>Hundred:</strong> <span class="hanzi" data-speak="Áôæ">Áôæ</span> (<span class="pinyin">b«éi</span>)
                                <br><small class="text-muted">Ex: 100: <span class="hanzi" data-speak="‰∏ÄÁôæ">‰∏ÄÁôæ</span> (<span class="pinyin">y√¨ b«éi</span>)</small>
                                <br><small class="text-muted">Ex: 365: <span class="hanzi" data-speak="‰∏âÁôæÂÖ≠ÂçÅ‰∫î">‰∏âÁôæÂÖ≠ÂçÅ‰∫î</span> (<span class="pinyin">sƒÅn b«éi li√π sh√≠ w«î</span>)</small></li>
                            <li><strong>Thousand:</strong> <span class="hanzi" data-speak="ÂçÉ">ÂçÉ</span> (<span class="pinyin">qiƒÅn</span>)
                                <br><small class="text-muted">Ex: 1,000: <span class="hanzi" data-speak="‰∏ÄÂçÉ">‰∏ÄÂçÉ</span> (<span class="pinyin">y√¨ qiƒÅn</span>)</small>
                                <br><small class="text-muted">Ex: 2,500: <span class="hanzi" data-speak="ÂÖ©ÂçÉ‰∫îÁôæ">ÂÖ©ÂçÉ‰∫îÁôæ</span> (<span class="pinyin">li«éng qiƒÅn w«î b«éi</span>) - *Note the use of ÂÖ© (li«éng)!*</small></li>
                            <li><strong>Ten Thousand:</strong> <span class="hanzi" data-speak="Ëê¨">Ëê¨</span> (<span class="pinyin">w√†n</span>)
                                <br><small class="text-muted">Mandarin groups by 10,000s, not 1,000s. This is a key concept.</small>
                                <br><small class="text-muted">Ex: 10,000: <span class="hanzi" data-speak="‰∏ÄËê¨">‰∏ÄËê¨</span> (<span class="pinyin">y√≠ w√†n</span>)</small>
                                <br><small class="text-muted">Ex: 50,000: <span class="hanzi" data-speak="‰∫îËê¨">‰∫îËê¨</span> (<span class="pinyin">w«î w√†n</span>) (i.e., "five ten-thousands")</small></li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Important Rule: ‰∫å (√®r) vs. ÂÖ© (li«éng)</h5>
                            <p class="text-sm">Both mean "two," but they are used differently.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-1">
                                <li>Use <span class="pinyin">‰∫å</span> (<span class="hanzi" data-speak="‰∫å">√®r</span>) when counting (1, 2, 3...) and for numbers like 12, 20, 200 (as in `‰∫åÁôæ`).</li>
                                <li>Use <span class="pinyin">ÂÖ©</span> (<span class="hanzi" data-speak="ÂÖ©">li«éng</span>) when specifying "two of something" with a measure word (e.g., <span class="hanzi" data-speak="ÂÖ©ÂÄã‰∫∫">ÂÖ©ÂÄã‰∫∫</span> - two people).</li>
                                <li><strong>Crucially:</strong> Use <span class="pinyin">ÂÖ©</span> (<span class="hanzi" data-speak="ÂÖ©">li«éng</span>) for 2,000 (<span class="hanzi" data-speak="ÂÖ©ÂçÉ">li«éng qiƒÅn</span>) and 20,000 (<span class="hanzi" data-speak="ÂÖ©Ëê¨">li«éng w√†n</span>).</li>
                            </ul>
                        </div>
                        
                        <!-- NEW: Added missing footer for Lesson 4 -->
                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="lesson3">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Previous Lesson</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson4"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson5"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                        <!-- END NEW FOOTER -->
                    </article>

                    <!-- MODIFIED: Lesson 5: Introductions (Full Content Added) -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson5">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 5: Introductions (‰ªãÁ¥π)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Now that you know some greetings, let's learn how to introduce yourself and ask for someone's name.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Asking For a Name</h4>
                        <ul class="space-y-4">
                            <li><strong>What is your name?:</strong> <span class="hanzi" data-speak="‰Ω†Âè´‰ªÄÈ∫ºÂêçÂ≠ó">‰Ω†Âè´‰ªÄÈ∫ºÂêçÂ≠óÔºü</span> (<span class="pinyin">n«ê ji√†o sh√©nme m√≠ngzi?</span>)
                                <br><small class="text-muted">"You are called what name?". The standard, common way to ask.</small></li>
                            
                            <li><strong>What is your surname? (polite):</strong> <span class="hanzi" data-speak="ÊÇ®Ë≤¥Âßì">ÊÇ®Ë≤¥ÂßìÔºü</span> (<span class="pinyin">n√≠n gu√¨x√¨ng?</span>)
                                <br><small class="text-muted">"Your honorable surname?". Very polite and formal. Used in business or for elders.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Giving Your Name</h4>
                        <ul class="space-y-4">
                            <li><strong>My name is...:</strong> <span class="hanzi" data-speak="ÊàëÂè´">ÊàëÂè´</span>... (<span class="pinyin">w«í ji√†o...</span>)
                                <br><small class="text-muted">"I am called...". Used for your full name or given name.</small>
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="ÊàëÂè´ÁéãÂ§ßÊòé">ÊàëÂè´ÁéãÂ§ßÊòé</span> (<span class="pinyin">W«í ji√†o W√°ng D√†m√≠ng</span>)</small></li>
                            
                            <li><strong>My surname is...:</strong> <span class="hanzi" data-speak="ÊàëÂßì">ÊàëÂßì</span>... (<span class="pinyin">w«í x√¨ng...</span>)
                                <br><small class="text-muted">"My surname is...". The standard reply to <span class="pinyin">n√≠n gu√¨x√¨ng</span>.</small>
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="ÊàëÂßìÁéã">ÊàëÂßìÁéã</span> (<span class="pinyin">W«í x√¨ng W√°ng</span>)</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Other Useful Phrases</h4>
                        <ul class="space-y-4">
                            <li><strong>Nice to meet you:</strong> <span class="hanzi" data-speak="ÂæàÈ´òËààË™çË≠ò‰Ω†">ÂæàÈ´òËààË™çË≠ò‰Ω†</span> (<span class="pinyin">hƒõn gƒÅox√¨ng r√®nshi n«ê</span>)
                                <br><small class="text-muted">"Very happy to know you."</small></li>
                            
                            <li><strong>I am [nationality] person:</strong> <span class="hanzi" data-speak="ÊàëÊòØ...‰∫∫">ÊàëÊòØ...‰∫∫</span> (<span class="pinyin">w«í sh√¨...r√©n</span>)
                                <br><small class="text-muted">Ex: I am American: <span class="hanzi" data-speak="ÊàëÊòØÁæéÂúã‰∫∫">ÊàëÊòØÁæéÂúã‰∫∫</span> (<span class="pinyin">w«í sh√¨ Mƒõigu√≥ r√©n</span>)</small>
                                <br><small class="text-muted">Ex: I am Taiwanese: <span class="hanzi" data-speak="ÊàëÊòØÂè∞ÁÅ£‰∫∫">ÊàëÊòØÂè∞ÁÅ£‰∫∫</span> (<span class="pinyin">w«í sh√¨ T√°iwƒÅn r√©n</span>)</small></li>
                        </ul>

                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="lesson4">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Previous Lesson</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson5"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson6"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                    </article>
                    
                    <!-- NEW: Adding Missing Lesson 6 -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson6">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 6: Yes, No & 'Bu' (ÊòØ, ‰∏ç)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Saying "yes" and "no" in Mandarin isn't as simple as in English. There's no single word for "yes." Instead, you usually answer a question by repeating the verb or adjective used.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">1. Answering with ÊòØ (sh√¨) / ‰∏çÊòØ (b√∫ sh√¨)</h4>
                        <p class="mb-4 text-muted">You only use <span class="hanzi" data-speak="ÊòØ">ÊòØ</span> (<span class="pinyin">sh√¨</span>) to say "yes" if the question was asked using <span class="hanzi" data-speak="ÊòØ">ÊòØ</span>. This is for questions about identity or state (Are you...?).</p>
                        <ul class="space-y-4">
                            <li><strong>Q: Are you American?:</strong> <span class="hanzi" data-speak="‰Ω†ÊòØÁæéÂúã‰∫∫Âóé">‰Ω†ÊòØÁæéÂúã‰∫∫ÂóéÔºü</span> (<span class="pinyin">N«ê sh√¨ Mƒõigu√≥ r√©n ma?</span>)
                                <br><small class="text-muted"><strong>Yes:</strong> <span class="hanzi" data-speak="ÊòØ">ÊòØ</span> (<span class="pinyin">sh√¨</span>) or <span class="hanzi" data-speak="ÊàëÊòØ">ÊàëÊòØ</span> (<span class="pinyin">w«í sh√¨</span>).</small>
                                <br><small class="text-muted"><strong>No:</strong> <span class="hanzi" data-speak="‰∏çÊòØ">‰∏çÊòØ</span> (<span class="pinyin">b√∫ sh√¨</span>).</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">2. The "Verb-Echo" Rule (The Real "Yes/No")</h4>
                        <p class="mb-4 text-muted">For most questions, you answer "yes" by repeating the main verb or "no" by saying <span class="hanzi" data-speak="‰∏ç">‰∏ç</span> (<span class="pinyin">b√π</span>) + Verb.</p>
                        <ul class="space-y-4">
                            <li><strong>Q: Do you want coffee?:</strong> <span class="hanzi" data-speak="‰Ω†Ë¶ÅÂíñÂï°Âóé">‰Ω†Ë¶ÅÂíñÂï°ÂóéÔºü</span> (<span class="pinyin">N«ê y√†o kƒÅfƒìi ma?</span>)
                                <br><small class="text-muted"><strong>Yes (I want):</strong> <span class="hanzi" data-speak="Ë¶Å">Ë¶Å</span> (<span class="pinyin">y√†o</span>).</small>
                                <br><small class="text-muted"><strong>No (I don't want):</strong> <span class="hanzi" data-speak="‰∏çË¶Å">‰∏çË¶Å</span> (<span class="pinyin">b√∫ y√†o</span>).</small></li>
                            
                            <li><strong>Q: Are you busy?:</strong> <span class="hanzi" data-speak="‰Ω†ÂøôÂóé">‰Ω†ÂøôÂóéÔºü</span> (<span class="pinyin">N«ê m√°ng ma?</span>) (Here the adjective <span class="pinyin">m√°ng</span> is the verb)
                                <br><small class="text-muted"><strong>Yes (I'm busy):</strong> <span class="hanzi" data-speak="ÂæàÂøô">ÂæàÂøô</span> (<span class="pinyin">hƒõn m√°ng</span>). (Using <span class="pinyin">hƒõn</span> is more natural than just <span class="pinyin">m√°ng</span>).</small>
                                <br><small class="text-muted"><strong>No (Not busy):</strong> <span class="hanzi" data-speak="‰∏çÂøô">‰∏çÂøô</span> (<span class="pinyin">b√π m√°ng</span>).</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">3. Other "Yes/No" Pairs</h4>
                        <ul class="space-y-4">
                            <li><strong>For "right/correct":</strong> <span class="hanzi" data-speak="Â∞ç">Â∞ç</span> (<span class="pinyin">du√¨</span>) / <span class="hanzi" data-speak="‰∏çÂ∞ç">‰∏çÂ∞ç</span> (<span class="pinyin">b√∫ du√¨</span>)
                                <br><small class="text-muted">Q: <span class="hanzi" data-speak="ÈÄôÊòØ‰Ω†ÁöÑÂóé">ÈÄôÊòØ‰Ω†ÁöÑÂóéÔºü</span> (Is this yours?) A: <span class="hanzi" data-speak="Â∞ç">Â∞ç</span> (Correct).</small></li>
                            
                            <li><strong>For "have/has":</strong> <span class="hanzi" data-speak="Êúâ">Êúâ</span> (<span class="pinyin">y«íu</span>) / <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>)
                                <br><small class="text-muted">Q: <span class="hanzi" data-speak="‰Ω†ÊúâÈå¢Âóé">‰Ω†ÊúâÈå¢ÂóéÔºü</span> (Do you have money?) A: <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (Don't have).</small>
                                <br><small class="text-muted"><strong>Note:</strong> The negative of <span class="hanzi" data-speak="Êúâ">Êúâ</span> is <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span>, NOT <span class="pinyin">b√π y«íu</span>!</small></li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: Tone Change Rule for ‰∏ç (b√π)</h5>
                            <p class="text-sm">The particle <span class="hanzi" data-speak="‰∏ç">‰∏ç</span> (<span class="pinyin">b√π</span>) is 4th tone by default. However, it changes to 2nd tone (<span class="pinyin">b√∫</span>) when it comes *before* another 4th tone syllable. This makes it easier to say.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-1">
                                <li><strong>Stays 4th tone:</strong> <span class="hanzi" data-speak="‰∏çÂêÉ">‰∏çÂêÉ</span> (<span class="pinyin">b√π chƒ´</span>) - (chƒ´ is 1st tone)</li>
                                <li><strong>Stays 4th tone:</strong> <span class="hanzi" data-speak="‰∏çÂøô">‰∏çÂøô</span> (<span class="pinyin">b√π m√°ng</span>) - (m√°ng is 2nd tone)</li>
                                <li><strong>Stays 4th tone:</strong> <span class="hanzi" data-speak="‰∏çÂ•Ω">‰∏çÂ•Ω</span> (<span class="pinyin">b√π h«éo</span>) - (h«éo is 3rd tone)</li>
                                <li><strong>Changes to 2nd tone:</strong> <span class="hanzi" data-speak="‰∏çÊòØ">‰∏çÊòØ</span> (<span class="pinyin">b√∫ sh√¨</span>) - (sh√¨ is 4th tone)</li>
                                <li><strong>Changes to 2nd tone:</strong> <span class="hanzi" data-speak="‰∏çË¶Å">‰∏çË¶Å</span> (<span class="pinyin">b√∫ y√†o</span>) - (y√†o is 4th tone)</li>
                            </ul>
                        </div>
                        
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson5"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson6"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson7"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>

                    <!-- NEW: Adding Missing Lesson 7 -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson7">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 7: Question Words (ÁñëÂïèË©û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Asking questions is key to conversation. Unlike English, Mandarin question words (like "who," "what," "where") don't move to the front of the sentence. You simply replace the "answer" part of a statement with the question word.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">The "5W1H" Questions</h4>
                        <ul class="space-y-4">
                            <li><strong>Who:</strong> <span class="hanzi" data-speak="Ë™∞">Ë™∞</span> (<span class="pinyin">sh√©i</span>)
                                <br><small class="text-muted">Statement: <span class="hanzi" data-speak="‰ªñÊòØÁéãÂÖàÁîü">‰ªñÊòØÁéãÂÖàÁîü</span> (He is Mr. Wang)</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="‰ªñÊòØË™∞">‰ªñÊòØË™∞Ôºü</span> (<span class="pinyin">TƒÅ sh√¨ sh√©i?</span>) - (He is who?)</small></li>

                            <li><strong>What:</strong> <span class="hanzi" data-speak="‰ªÄÈ∫º">‰ªÄÈ∫º</span> (<span class="pinyin">sh√©nme</span>)
                                <br><small class="text-muted">Statement: <span class="hanzi" data-speak="ÈÄôÊòØ‰∏ÄÊú¨Êõ∏">ÈÄôÊòØ‰∏ÄÊú¨Êõ∏</span> (This is a book)</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="ÈÄôÊòØ‰ªÄÈ∫º">ÈÄôÊòØ‰ªÄÈ∫ºÔºü</span> (<span class="pinyin">Zh√® sh√¨ sh√©nme?</span>) - (This is what?)</small></li>
                            
                            <li><strong>Where:</strong> <span class="hanzi" data-speak="Âì™Ë£°">Âì™Ë£°</span> (<span class="pinyin">n«él«ê</span>) or <span class="hanzi" data-speak="Âì™ÂÖí">Âì™ÂÖí</span> (<span class="pinyin">n«ér</span> - more common in Northern China)
                                <br><small class="text-muted">Statement: <span class="hanzi" data-speak="ÊàëÂú®ÂÆ∂">ÊàëÂú®ÂÆ∂</span> (I am at home)</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="‰Ω†Âú®Âì™Ë£°">‰Ω†Âú®Âì™Ë£°Ôºü</span> (<span class="pinyin">N«ê z√†i n«él«ê?</span>) - (You are at where?)</small></li>

                            <li><strong>When:</strong> <span class="hanzi" data-speak="‰ªÄÈ∫ºÊôÇÂÄô">‰ªÄÈ∫ºÊôÇÂÄô</span> (<span class="pinyin">sh√©nme sh√≠hou</span>) - "what time/moment"
                                <br><small class="text-muted">Statement: <span class="hanzi" data-speak="ÊàëÊòéÂ§©Âéª">ÊàëÊòéÂ§©Âéª</span> (I go tomorrow)</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="‰Ω†‰ªÄÈ∫ºÊôÇÂÄôÂéª">‰Ω†‰ªÄÈ∫ºÊôÇÂÄôÂéªÔºü</span> (<span class="pinyin">N«ê sh√©nme sh√≠hou q√π?</span>) - (You when go?)</small></li>
                            
                            <li><strong>Why:</strong> <span class="hanzi" data-speak="ÁÇ∫‰ªÄÈ∫º">ÁÇ∫‰ªÄÈ∫º</span> (<span class="pinyin">w√®ish√©nme</span>) - "for what"
                                <br><small class="text-muted">This one *can* go at the beginning or after the subject.</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="‰Ω†ÁÇ∫‰ªÄÈ∫ºÂ≠∏‰∏≠Êñá">‰Ω†ÁÇ∫‰ªÄÈ∫ºÂ≠∏‰∏≠ÊñáÔºü</span> (<span class="pinyin">N«ê w√®ish√©nme xu√© Zh≈çngw√©n?</span>) - (You why study Chinese?)</small></li>
                            
                            <li><strong>How:</strong> <span class="hanzi" data-speak="ÊÄéÈ∫º">ÊÄéÈ∫º</span> (<span class="pinyin">zƒõnme</span>)
                                <br><small class="text-muted">Used for *how* to do something (the manner or method).</small>
                                <br><small class="text-muted">Question: <span class="hanzi" data-speak="ÈÄôÂÄã‰∏≠ÊñáÊÄéÈ∫ºË™™">ÈÄôÂÄã‰∏≠ÊñáÊÄéÈ∫ºË™™Ôºü</span> (<span class="pinyin">Zh√®ge Zh≈çngw√©n zƒõnme shu≈ç?</span>) - (This, Chinese how to say?)</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Extra: Other Important Question Words</h4>
                        <ul class="space-y-4">
                            <li><strong>How much (money/many):</strong> <span class="hanzi" data-speak="Â§öÂ∞ë">Â§öÂ∞ë</span> (<span class="pinyin">du≈çshao</span>) - "many-few"
                                <br><small class="text-muted">Used for numbers over ~10 or when you don't know the amount.</small>
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="Â§öÂ∞ëÈå¢">Â§öÂ∞ëÈå¢Ôºü</span> (<span class="pinyin">Du≈çshao qi√°n?</span>) - How much money?</small></li>
                            
                            <li><strong>How many (a few):</strong> <span class="hanzi" data-speak="ÂπæÂÄã">ÂπæÂÄã</span> (<span class="pinyin">j«ê ge</span>)
                                <br><small class="text-muted">Used when you expect a small number (under 10). <span class="pinyin">ge</span> (ÂÄã) is the most common measure word.</small>
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="‰Ω†ÊúâÂπæÂÄãÂ∞èÂ≠©">‰Ω†ÊúâÂπæÂÄãÂ∞èÂ≠©Ôºü</span> (<span class="pinyin">N«ê y«íu j«ê ge xi«éoh√°i?</span>) - How many kids do you have?</small></li>

                            <li><strong>How about...?:</strong> <span class="hanzi" data-speak="ÊÄéÈ∫ºÊ®£">ÊÄéÈ∫ºÊ®£</span> (<span class="pinyin">zƒõnmey√†ng</span>)
                                <br><small class="text-muted">Used to ask for an opinion or check on a state. "How is it?"</small>
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="ÈÄôÊùØÂíñÂï°ÊÄéÈ∫ºÊ®£">ÈÄôÊùØÂíñÂï°ÊÄéÈ∫ºÊ®£Ôºü</span> (<span class="pinyin">Zh√® bƒìi kƒÅfƒìi zƒõnmey√†ng?</span>) - How is this cup of coffee?</small></li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Alternative: The "A-not-A" Question</h5>
                            <p class="text-sm">A very common way to ask a yes/no question without using <span class="hanzi" data-speak="Âóé">Âóé</span> (<span class="pinyin">ma</span>) is to use the "A-not-A" pattern (Verb/Adjective + Not + Verb/Adjective).</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-1">
                                <li><strong>Instead of:</strong> <span class="hanzi" data-speak="‰Ω†ÊòØÁæéÂúã‰∫∫Âóé">‰Ω†ÊòØÁæéÂúã‰∫∫ÂóéÔºü</span> (<span class="pinyin">N«ê sh√¨ Mƒõigu√≥ r√©n ma?</span>)
                                    <br><strong>You can say:</strong> <span class="hanzi" data-speak="‰Ω†ÊòØ‰∏çÊòØÁæéÂúã‰∫∫">‰Ω†ÊòØ‰∏çÊòØÁæéÂúã‰∫∫Ôºü</span> (<span class="pinyin">N«ê sh√¨ b√∫ sh√¨ Mƒõigu√≥ r√©n?</span>) - (You are or are not American?)</li>
                                
                                <li><strong>Instead of:</strong> <span class="hanzi" data-speak="‰Ω†ÂøôÂóé">‰Ω†ÂøôÂóéÔºü</span> (<span class="pinyin">N«ê m√°ng ma?</span>)
                                    <br><strong>You can say:</strong> <span class="hanzi" data-speak="‰Ω†Âøô‰∏çÂøô">‰Ω†Âøô‰∏çÂøôÔºü</span> (<span class="pinyin">N«ê m√°ng b√π m√°ng?</span>) - (You busy or not busy?)</li>
                                
                                <li><strong>Note for <span class="pinyin">y«íu</span> (Êúâ):</strong> The pattern is <span class="hanzi" data-speak="ÊúâÊ≤íÊúâ">ÊúâÊ≤íÊúâ</span> (<span class="pinyin">y«íu m√©iy«íu</span>).
                                    <br>Ex: <span class="hanzi" data-speak="‰Ω†ÊúâÊ≤íÊúâÈå¢">‰Ω†ÊúâÊ≤íÊúâÈå¢Ôºü</span> (<span class="pinyin">N«ê y«íu m√©iy«íu qi√°n?</span>) - Do you have money (or not)?</li>
                            </ul>
                        </div>
                        
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson6"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson7"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson8"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <!-- END NEW Lesson 7 -->

                    <!-- MODIFIED: Full Content Added for Lesson 8 -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson8">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 8: Buying Things (Ë≤∑Êù±Ë•ø)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Knowing how to ask for prices and buy things is one of the most useful skills for traveling. Here are the essential phrases you'll need, using Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Essential Phrases</h4>
                        <ul class="space-y-4">
                            <li><strong>I want to buy...:</strong> <span class="hanzi" data-speak="ÊàëÊÉ≥Ë≤∑">ÊàëÊÉ≥Ë≤∑...</span> (<span class="pinyin">w«í xi«éng m«éi...</span>)
                                <br><small class="text-muted">Ex: <span class="hanzi" data-speak="ÊàëÊÉ≥Ë≤∑ÈÄôÂÄã">ÊàëÊÉ≥Ë≤∑ÈÄôÂÄã</span> (<span class="pinyin">w«í xi«éng m«éi zh√®ge</span>) - I want to buy this.</small></li>

                            <li><strong>How much is this?:</strong> <span class="hanzi" data-speak="ÈÄôÂÄãÂ§öÂ∞ëÈå¢">ÈÄôÂÄãÂ§öÂ∞ëÈå¢Ôºü</span> (<span class="pinyin">zh√®ge du≈çshao qi√°n?</span>)
                                <br><small class="text-muted">The most important question. "This" (ÈÄôÂÄã) + "how much money?" (Â§öÂ∞ëÈå¢).</small></li>
                            
                            <li><strong>How much is that?:</strong> <span class="hanzi" data-speak="ÈÇ£ÂÄãÂ§öÂ∞ëÈå¢">ÈÇ£ÂÄãÂ§öÂ∞ëÈå¢Ôºü</span> (<span class="pinyin">n√†ge du≈çshao qi√°n?</span>)
                                <br><small class="text-muted">Use <span class="hanzi" data-speak="ÈÇ£ÂÄã">ÈÇ£ÂÄã</span> (<span class="pinyin">n√†ge</span>) for "that one".</small></li>

                            <li><strong>Too expensive!:</strong> <span class="hanzi" data-speak="Â§™Ë≤¥‰∫Ü">Â§™Ë≤¥‰∫ÜÔºÅ</span> (<span class="pinyin">t√†i gu√¨ le!</span>)
                                <br><small class="text-muted">A key phrase for bargaining in markets!</small></li>

                            <li><strong>Can it be cheaper?:</strong> <span class="hanzi" data-speak="ÂèØ‰ª•‰æøÂÆú‰∏ÄÈªûÂóé">ÂèØ‰ª•‰æøÂÆú‰∏ÄÈªûÂóéÔºü</span> (<span class="pinyin">kƒõy«ê pi√°ny√≠ y√¨di«én ma?</span>)
                                <br><small class="text-muted">"Can [you be] a little cheaper?"</small></li>

                            <li><strong>I'll take this one:</strong> <span class="hanzi" data-speak="ÊàëË¶ÅÈÄôÂÄã">ÊàëË¶ÅÈÄôÂÄã</span> (<span class="pinyin">w«í y√†o zh√®ge</span>)
                                <br><small class="text-muted">"I want this one."</small></li>

                            <li><strong>Do you have...?:</strong> <span class="hanzi" data-speak="‰Ω†ÂÄëÊúâÊ≤íÊúâ">‰Ω†ÂÄëÊúâÊ≤íÊúâ...Ôºü</span> (<span class="pinyin">n«êmen y«íu m√©iy«íu...?</span>)
                                <br><small class="text-muted">Uses the "A-not-A" structure. "You (plural) have or not have...?"</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Sample Dialogue (At a Night Market)</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Role</th>
                                        <th>Traditional Chinese</th>
                                        <th>Pinyin</th>
                                        <th>English</th> <!-- NEW COLUMN -->
                                    </tr>
                                <thead>
                                <tbody>
                                    <tr>
                                        <td>Customer</td>
                                        <td><span class="hanzi" data-speak="ËÄÅÈóÜÔºåÈÄôÂÄãÂ§öÂ∞ëÈå¢">ËÄÅÈóÜÔºåÈÄôÂÄãÂ§öÂ∞ëÈå¢Ôºü</span></td>
                                        <td><span class="pinyin">L«éob«én, zh√®ge du≈çshao qi√°n?</span></td>
                                        <td>Boss, how much is this?</td> <!-- NEW -->
                                    </tr>
                                    <tr>
                                        <td>Vendor</td>
                                        <td><span class="hanzi" data-speak="ÈÄôÂÄã‰∏âÁôæÂ°ä">ÈÄôÂÄã‰∏âÁôæÂ°ä„ÄÇ</span></td>
                                        <td><span class="pinyin">Zh√®ge sƒÅn b«éi ku√†i.</span></td>
                                        <td>This one is 300 dollars.</td> <!-- NEW -->
                                    </tr>
                                    <tr>
                                        <td>Customer</td>
                                        <td><span class="hanzi" data-speak="Â§™Ë≤¥‰∫ÜÔºÅÂÖ©Áôæ‰∫îÂèØ‰ª•Âóé">Â§™Ë≤¥‰∫ÜÔºÅÂÖ©Áôæ‰∫îÂèØ‰ª•ÂóéÔºü</span></td>
                                        <td><span class="pinyin">T√†i gu√¨ le! Li«éng b«éi w«î kƒõy«ê ma?</span></td>
                                        <td>Too expensive! Can you do 250?</td> <!-- NEW -->
                                    </tr>
                                    <tr>
                                        <td>Vendor</td>
                                        <td><span class="hanzi" data-speak="‰∏çË°åÂï¶ÔºåÊúÄÂ∞ëÂÖ©ÁôæÂÖ´">‰∏çË°åÂï¶ÔºåÊúÄÂ∞ëÂÖ©ÁôæÂÖ´„ÄÇ</span></td>
                                        <td><span class="pinyin">B√πx√≠ng la, zu√¨ sh«éo li«éng b«éi bƒÅ.</span></td>
                                        <td>No way, 280 is the lowest.</td> <!-- NEW -->
                                    </tr>
                                    <tr>
                                        <td>Customer</td>
                                        <td><span class="hanzi" data-speak="Â•ΩÔºåÊàëË¶ÅÈÄôÂÄã„ÄÇË¨ùË¨ù">Â•ΩÔºåÊàëË¶ÅÈÄôÂÄã„ÄÇË¨ùË¨ù„ÄÇ</span></td>
                                        <td><span class="pinyin">H«éo, w«í y√†o zh√®ge. Xi√®xie.</span></td>
                                        <td>Okay, I'll take this. Thanks.</td> <!-- NEW -->
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: Currency & Bargaining Tips</h5>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-2">
                                <li><strong>Currency:</strong> In Taiwan, the currency is the New Taiwan Dollar (NTD), or <span class="hanzi" data-speak="Êñ∞Âè∞Âπ£">Êñ∞Âè∞Âπ£</span> (<span class="pinyin">xƒ´n t√°ib√¨</span>).</li>
                                <li><strong>Spoken vs. Written:</strong> In writing, you'll see <span class="hanzi" data-speak="ÂÖÉ">ÂÖÉ</span> (<span class="pinyin">yu√°n</span>). In spoken language, people almost always say <span class="hanzi" data-speak="Â°ä">Â°ä</span> (<span class="pinyin">ku√†i</span>). (e.g., <span class="hanzi" data-speak="‰∏âÁôæÂ°ä">‰∏âÁôæÂ°ä</span> for 300 dollars).</li>
                                <li><strong>Where to Bargain:</strong> Bargaining (Ë®éÂÉπÈÇÑÂÉπ / <span class="pinyin">t«éoji√† hu√°nji√†</span>) is common and expected in night markets (<span class="hanzi" data-speak="Â§úÂ∏Ç">Â§úÂ∏Ç</span> / <span class="pinyin">y√®sh√¨</span>) and small, independent shops.</li>
                                <li><strong>Where NOT to Bargain:</strong> Do NOT bargain in convenience stores (like 7-11), department stores, or restaurants. The price listed is the price you pay.</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3">
                                <button class="prev-page-btn" data-prev-page-id="lesson7">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg>
                                    <span>Previous Lesson</span>
                                </button>
                                <button class="home-page-btn" data-home-page-id="home">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg>
                                    <span>Home</span>
                                </button>
                            </div>
                            <div class="flex gap-3">
                                <button class="mark-complete-btn" data-page-id="lesson8"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button>
                                <button class="next-page-btn" data-next-page-id="lesson9"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button>
                            </div>
                        </div>
                    </article>
                    <!-- END MODIFIED -->
                    
                    <!-- NEW: Adding Missing Lesson 9 -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson9">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 9: Using 'le' (‰∫Ü)</h3>
                        <p class="mb-5 text-muted leading-relaxed">The particle <span class="hanzi" data-speak="‰∫Ü">‰∫Ü</span> (<span class="pinyin">le</span>) is one of the most important concepts in Mandarin. It does NOT simply mean "past tense." It has two primary functions: indicating the completion of an action, or indicating a change of state.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Function 1: Action Completion (Âãï‰ΩúÁöÑÂÆåÊàê)</h4>
                        <p class="mb-4 text-muted">When placed *directly after a verb*, <span class="pinyin">le</span> indicates that the action has been completed. This is the closest it gets to a "past tense" idea.</p>
                        <ul class="space-y-4">
                            <li><strong>I ate:</strong> <span class="hanzi" data-speak="ÊàëÂêÉ‰∫Ü">ÊàëÂêÉ‰∫Ü</span> (<span class="pinyin">w«í chƒ´ le</span>)
                                <br><small class="text-muted">The action of "eating" is complete.</small></li>

                            <li><strong>He bought it:</strong> <span class="hanzi" data-speak="‰ªñË≤∑‰∫Ü">‰ªñË≤∑‰∫Ü</span> (<span class="pinyin">tƒÅ m«éi le</span>)
                                <br><small class="text-muted">The action of "buying" is complete.</small></li>
                            
                            <li><strong>I finished watching the movie:</strong> <span class="hanzi" data-speak="ÊàëÁúãÂÆå‰∫ÜÈõªÂΩ±">ÊàëÁúãÂÆå‰∫ÜÈõªÂΩ±</span> (<span class="pinyin">w«í k√†n w√°n le di√†ny«êng</span>)
                                <br><small class="text-muted">Here, <span class="pinyin">le</span> comes after the result complement <span class="pinyin">w√°n</span> (finish).</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Extra: The Negative Form: Ê≤íÊúâ (m√©iy«íu)</h4>
                        <p class="mb-4 text-muted">To negate a completed action, you **must** use <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>) before the verb. When you use <span class="pinyin">m√©iy«íu</span>, the <span class="pinyin">le</span> **must be removed**.</p>
                        <ul class="space-y-4">
                            <li><strong>Correct (I didn't eat):</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÂêÉ">ÊàëÊ≤íÊúâÂêÉ</span> (<span class="pinyin">w«í m√©iy«íu chƒ´</span>)</li>
                            <li><strong>Incorrect:</strong> <span class="pinyin">w«í m√©iy«íu chƒ´ le</span> or <span class="pinyin">w«í b√π chƒ´ le</span> (this means "I'm not eating *anymore*").</li>
                            
                            <li><strong>Correct (He didn't buy it):</strong> <span class="hanzi" data-speak="‰ªñÊ≤íÊúâË≤∑">‰ªñÊ≤íÊúâË≤∑</span> (<span class="pinyin">tƒÅ m√©iy«íu m«éi</span>)</li>
                            <li><strong>Incorrect:</strong> <span class="pinyin">tƒÅ m√©iy«íu m«éi le</span></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Function 2: Change of State (ÊÉÖÊ≥ÅÁöÑÊîπËÆä)</h4>
                        <p class="mb-4 text-muted">When placed at the *end of a sentence*, <span class="pinyin">le</span> indicates that a new situation has occurred or a state has changed. This is about "now".</p>
                        <ul class="space-y-4">
                            <li><strong>It's raining (now):</strong> <span class="hanzi" data-speak="‰∏ãÈõ®‰∫Ü">‰∏ãÈõ®‰∫Ü</span> (<span class="pinyin">xi√† y«î le</span>)
                                <br><small class="text-muted">It wasn't raining before, but now it is. The situation has *changed*.</small></li>

                            <li><strong>I'm tired (now):</strong> <span class="hanzi" data-speak="ÊàëÁ¥Ø‰∫Ü">ÊàëÁ¥Ø‰∫Ü</span> (<span class="pinyin">w«í l√®i le</span>)
                                <br><small class="text-muted">I wasn't tired before, but now I am. My state has *changed*.</small></li>
                            
                            <li><strong>He got taller:</strong> <span class="hanzi" data-speak="‰ªñÈ´ò‰∫Ü">‰ªñÈ´ò‰∫Ü</span> (<span class="pinyin">tƒÅ gƒÅo le</span>)
                                <br><small class="text-muted">His state has *changed* from shorter to taller.</small></li>
                            
                            <li><strong>Too expensive!:</strong> <span class="hanzi" data-speak="Â§™Ë≤¥‰∫Ü">Â§™Ë≤¥‰∫ÜÔºÅ</span> (<span class="pinyin">t√†i gu√¨ le!</span>)
                                <br><small class="text-muted">I have *just realized* this new situation. This is a very common pattern.</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Extra: "Not Anymore" with ‰∏ç...‰∫Ü (b√π...le)</h4>
                        <p class="mb-4 text-muted">To negate a "change of state," you use the pattern <span class="hanzi" data-speak="‰∏ç...‰∫Ü">‰∏ç...‰∫Ü</span> (<span class="pinyin">b√π...le</span>). This combination means "not anymore."</p>
                        <ul class="space-y-4">
                            <li><strong>I don't eat:</strong> <span class="hanzi" data-speak="Êàë‰∏çÂêÉ">Êàë‰∏çÂêÉ</span> (<span class="pinyin">w«í b√π chƒ´</span>) - (A general habit).</li>
                            <li><strong>I'm not eating anymore:</strong> <span class="hanzi" data-speak="Êàë‰∏çÂêÉ‰∫Ü">Êàë‰∏çÂêÉ‰∫Ü</span> (<span class="pinyin">w«í b√π chƒ´ le</span>) - (I was eating, but *now* I've stopped. A change of state).</li>
                            <li><strong>He doesn't live here anymore:</strong> <span class="hanzi" data-speak="‰ªñ‰∏ç‰ΩèÂú®ÈÄôË£°‰∫Ü">‰ªñ‰∏ç‰ΩèÂú®ÈÄôË£°‰∫Ü</span> (<span class="pinyin">tƒÅ b√∫ zh√π z√†i zh√®l«ê le</span>).</li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Key Point: ‰∫Ü (le) is NOT just "Past Tense"</h5>
                            <p class="text-sm">The concept of `‰∫Ü` is *completion*, not *time*. It can even be used for the future!</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-2">
                                <li><strong>Future Example:</strong> <span class="hanzi" data-speak="ÊàëÊòéÂ§©ÂêÉ‰∫ÜÈ£ØÂ∞±ÂéªÊâæ‰Ω†">ÊàëÊòéÂ§©ÂêÉ‰∫ÜÈ£ØÂ∞±ÂéªÊâæ‰Ω†</span>„ÄÇ
                                    <br>(<span class="pinyin">W«í m√≠ngtiƒÅn chƒ´ le f√†n ji√π q√π zh«éo n«ê.</span>)
                                    <br>This means: "Tomorrow, after I *finish* eating, I will go find you." The action (`ÂêÉ`) must be *completed* before the next action (`ÂéªÊâæ‰Ω†`) can happen.</li>
                                <li><strong>Compare these two:</strong>
                                    <br>1. <span class="hanzi" data-speak="ÊàëÂ≠∏‰∫Ü‰∏≠Êñá">ÊàëÂ≠∏‰∫Ü‰∏≠Êñá</span> (<span class="pinyin">W«í xu√© le Zh≈çngw√©n</span>) - I studied Chinese. (A completed action, e.g., last night).
                                    <br>2. <span class="hanzi" data-speak="ÊàëÂ≠∏‰∏≠Êñá‰∫Ü">ÊàëÂ≠∏‰∏≠Êñá‰∫Ü</span> (<span class="pinyin">W«í xu√© Zh≈çngw√©n le</span>) - I have started studying Chinese. (A change of state: I didn't study it before, but *now I do*).</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson8"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson9"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson10"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <!-- END NEW Lesson 9 -->

                    <!-- MODIFIED: Full Content Added for Lesson 10 -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson10">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 10: Using 'guo' (ÈÅé)</h3>
                        <p class="mb-5 text-muted leading-relaxed">While <span class="pinyin">le</span> (‰∫Ü) marks completion or change, <span class="hanzi" data-speak="ÈÅé">ÈÅé</span> (<span class="pinyin">guo</span>) is the **experiential particle**. You use it to talk about whether you have *ever* had an experience in the past. It's the equivalent of "have/has ever..."</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Positive Structure (ËÇØÂÆöÂè•)</h4>
                        <p class="mb-4 text-muted">You place <span class="pinyin">guo</span> directly after the verb to indicate the experience.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Verb + ÈÅé (guo) + Object</code></p>
                        <ul class="space-y-4">
                            <li><strong>I have been to Taiwan:</strong> <span class="hanzi" data-speak="ÊàëÂéªÈÅéÂè∞ÁÅ£">ÊàëÂéªÈÅéÂè∞ÁÅ£</span> (<span class="pinyin">w«í q√π guo T√°iwƒÅn</span>)
                                <br><small class="text-muted">The experience of "going" has happened at least once.</small></li>

                            <li><strong>He has seen this movie:</strong> <span class="hanzi" data-speak="‰ªñÁúãÈÅéÈÄôÈÉ®ÈõªÂΩ±">‰ªñÁúãÈÅéÈÄôÈÉ®ÈõªÂΩ±</span> (<span class="pinyin">tƒÅ k√†n guo zh√® b√π di√†ny«êng</span>)
                                <br><small class="text-muted">The experience of "seeing" this movie is complete.</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Negative Structure (Âê¶ÂÆöÂè•)</h4>
                        <p class="mb-4 text-muted">To say you have *never* had an experience, you use <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>) and keep the <span class="pinyin">guo</span>. (Note: This is different from <span class="pinyin">le</span>, which gets dropped).</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Ê≤íÊúâ (m√©iy«íu) + Verb + ÈÅé (guo) + Object</code></p>
                        <ul class="space-y-4">
                            <li><strong>I have never eaten stinky tofu:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÂêÉÈÅéËá≠Ë±ÜËÖê">ÊàëÊ≤íÊúâÂêÉÈÅéËá≠Ë±ÜËÖê</span> (<span class="pinyin">w«í m√©iy«íu chƒ´ guo ch√≤u d√≤ufu</span>)</li>
                            
                            <li><strong>She has not been to America:</strong> <span class="hanzi" data-speak="Â•πÊ≤íÊúâÂéªÈÅéÁæéÂúã">Â•πÊ≤íÊúâÂéªÈÅéÁæéÂúã</span> (<span class="pinyin">tƒÅ m√©iy«íu q√π guo Mƒõigu√≥</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Question Structures (ÁñëÂïèÂè•)</h4>
                        <p class="mb-4 text-muted">You can ask about experiences in two common ways.</p>
                        <ul class="space-y-4">
                            <li><strong>Using <span class="pinyin">Âóé (ma)</span>:</strong> <span class="hanzi" data-speak="‰Ω†ÂêÉÈÅéËá≠Ë±ÜËÖêÂóé">‰Ω†ÂêÉÈÅéËá≠Ë±ÜËÖêÂóéÔºü</span>
                                <br><span class="pinyin">(N«ê chƒ´ guo ch√≤u d√≤ufu ma?)</span> - Have you ever eaten stinky tofu?</li>

                            <li><strong>Using "A-not-A" (<span class="pinyin">...guo...m√©iy«íu</span>):</strong> <span class="hanzi" data-speak="‰Ω†ÂêÉÈÅéËá≠Ë±ÜËÖêÊ≤íÊúâ">‰Ω†ÂêÉÈÅéËá≠Ë±ÜËÖêÊ≤íÊúâÔºü</span>
                                <br><span class="pinyin">(N«ê chƒ´ guo ch√≤u d√≤ufu m√©iy«íu?)</span> - Have you ever eaten stinky tofu (or not)?</li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: ‰∫Ü (le) vs. ÈÅé (guo) ‚Äî The Key Difference</h5>
                            <p class="text-sm mb-3">This is the most important part of this lesson. Both relate to the past, but in different ways.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><span class="pinyin">‰∫Ü (le)</span> = **Completion.** It marks a *specific* action that was completed. The action is finished.
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÊò®Â§©ÂêÉ‰∫ÜÈ§ÉÂ≠ê">ÊàëÊò®Â§©ÂêÉ‰∫ÜÈ§ÉÂ≠ê</span> (<span class="pinyin">W«í zu√≥tiƒÅn chƒ´ le ji«éozi</span>)
                                    <br><small class="ml-4 text-muted">"I ate dumplings yesterday." (A specific, completed event. I'm telling you what I did.)</small></li>
                                
                                <li><span class="pinyin">ÈÅé (guo)</span> = **Experience.** It marks an action that has happened *at least once* in the past. It's about life experience, not a specific event.
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÂêÉÈÅéÈ§ÉÂ≠ê">ÊàëÂêÉÈÅéÈ§ÉÂ≠ê</span> (<span class="pinyin">W«í chƒ´ guo ji«éozi</span>)
                                    <br><small class="ml-4 text-muted">"I have eaten dumplings (before)." (I have the experience. I know what they are. It's not about a specific meal.)</small></li>
                                
                                <li><strong>Compare:</strong>
                                    <br>1. <span class="hanzi" data-speak="‰ªñË≤∑‰∫ÜÈÇ£Êú¨Êõ∏">‰ªñË≤∑‰∫ÜÈÇ£Êú¨Êõ∏</span> (<span class="pinyin">TƒÅ m«éi le n√† bƒõn sh≈´</span>) - "He bought that book." (The action is complete. He has the book.)
                                    <br>2. <span class="hanzi" data-speak="‰ªñË≤∑ÈÅéÈÇ£Êú¨Êõ∏">‰ªñË≤∑ÈÅéÈÇ£Êú¨Êõ∏</span> (<span class="pinyin">TƒÅ m«éi guo n√† bƒõn sh≈´</span>) - "He has bought that book (before)." (He has the *experience* of buying it. Maybe he returned it, maybe he's buying it again. We are only talking about the experience.)</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson9"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson10"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson11"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <!-- END MODIFIED -->
                    <article class="content-page card p-6 mb-8" data-page-id="lesson11">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 11: Using 'zai' (Âú®)</h3>
                        <p class="mb-5 text-muted leading-relaxed">The word <span class="hanzi" data-speak="Âú®">Âú®</span> (<span class="pinyin">z√†i</span>) is one of the most common and important words in Mandarin. It has three main uses: as a verb ("to be at"), as a preposition ("at/in/on"), and as a progressive marker to show an action is in progress (like "-ing" in English). We will use Traditional Chinese characters.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Function 1: "To be at" a Location (Verb)</h4>
                        <p class="mb-4 text-muted">Used as the main verb, <span class="pinyin">z√†i</span> simply states that someone or something *is at* a location.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Âú® (z√†i) + Location</code></p>
                        <ul class="space-y-4">
                            <li><strong>I am at home:</strong> <span class="hanzi" data-speak="ÊàëÂú®ÂÆ∂">ÊàëÂú®ÂÆ∂</span> (<span class="pinyin">w«í z√†i jiƒÅ</span>)</li>
                            <li><strong>He is at school:</strong> <span class="hanzi" data-speak="‰ªñÂú®Â≠∏Ê†°">‰ªñÂú®Â≠∏Ê†°</span> (<span class="pinyin">tƒÅ z√†i xu√©xi√†o</span>)</li>
                            <li><strong>Negative (Not at):</strong> <span class="hanzi" data-speak="Êàë‰∏çÂú®ÂÆ∂">Êàë‰∏çÂú®ÂÆ∂</span> (<span class="pinyin">w«í b√∫ z√†i jiƒÅ</span>) - I am not at home. (Note the tone change on <span class="pinyin">b√π</span>!)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Function 2: "At/In/On" a Location (Preposition)</h4>
                        <p class="mb-4 text-muted">This is a key difference from English: the location phrase <span class="pinyin">z√†i + Location</span> comes *before* the verb.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Âú® (z√†i) + Location + Verb</code></p>
                        <ul class="space-y-4">
                            <li><strong>I eat at home:</strong> <span class="hanzi" data-speak="ÊàëÂú®ÂÆ∂ÂêÉÈ£Ø">ÊàëÂú®ÂÆ∂ÂêÉÈ£Ø</span> (<span class="pinyin">w«í z√†i jiƒÅ chƒ´f√†n</span>)
                                <br><small class="text-muted">Literally: "I at home eat food."</small></li>
                            <li><strong>He works in Taipei:</strong> <span class="hanzi" data-speak="‰ªñÂú®Âè∞ÂåóÂ∑•‰Ωú">‰ªñÂú®Âè∞ÂåóÂ∑•‰Ωú</span> (<span class="pinyin">tƒÅ z√†i T√°ibƒõi g≈çngzu√≤</span>)
                                <br><small class="text-muted">Literally: "He in Taipei works."</small></li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Function 3: Action in Progress (like "-ing")</h4>
                        <p class="mb-4 text-muted">Placed before a verb, <span class="pinyin">z√†i</span> indicates that the action is currently happening. It's the equivalent of "am/is/are -ing".</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Âú® (z√†i) + Verb (+ Object)</code></p>
                        <ul class="space-y-4">
                            <li><strong>I am eating:</strong> <span class="hanzi" data-speak="ÊàëÂú®ÂêÉÈ£Ø">ÊàëÂú®ÂêÉÈ£Ø</span> (<span class="pinyin">w«í z√†i chƒ´f√†n</span>)
                                <br><small class="text-muted">Compare this to `w«í z√†i jiƒÅ chƒ´f√†n` (I eat at home). Context is key!</small></li>
                            <li><strong>He is watching TV:</strong> <span class="hanzi" data-speak="‰ªñÂú®ÁúãÈõªË¶ñ">‰ªñÂú®ÁúãÈõªË¶ñ</span> (<span class="pinyin">tƒÅ z√†i k√†n di√†nsh√¨</span>)</li>
                            <li><strong>Negative (Not -ing):</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÂú®ÂêÉÈ£Ø">ÊàëÊ≤íÊúâÂú®ÂêÉÈ£Ø</span> (<span class="pinyin">w«í m√©iy«íu z√†i chƒ´f√†n</span>) - I am not (currently) eating.</li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Asking Questions with Âú® (z√†i)</h4>
                         <ul class="space-y-4">
                            <li><strong>Q: Where are you?:</strong> <span class="hanzi" data-speak="‰Ω†Âú®Âì™Ë£°">‰Ω†Âú®Âì™Ë£°Ôºü</span> (<span class="pinyin">n«ê z√†i n«él«ê?</span>)
                                <br><small class="text-muted">Answer: <span class="hanzi" data-speak="ÊàëÂú®ÈÄôË£°">ÊàëÂú®ÈÄôË£°</span> (<span class="pinyin">w«í z√†i zh√®l«ê</span>) - I am here.</small></li>
                            <li><strong>Q: Are you at home?:</strong> <span class="hanzi" data-speak="‰Ω†Âú®ÂÆ∂Âóé">‰Ω†Âú®ÂÆ∂ÂóéÔºü</span> (<span class="pinyin">n«ê z√†i jiƒÅ ma?</span>)
                                <br><small class="text-muted">Answer (Yes): <span class="hanzi" data-speak="Âú®">Âú®</span> (<span class="pinyin">z√†i</span>) or <span class="hanzi" data-speak="ÊàëÂú®ÂÆ∂">ÊàëÂú®ÂÆ∂</span> (<span class="pinyin">w«í z√†i jiƒÅ</span>).</small>
                                <br><small class="text-muted">Answer (No): <span class="hanzi" data-speak="‰∏çÂú®">‰∏çÂú®</span> (<span class="pinyin">b√∫ z√†i</span>).</small></li>
                            <li><strong>Q: Are you (currently) eating?:</strong> <span class="hanzi" data-speak="‰Ω†Âú®ÂêÉÈ£ØÂóé">‰Ω†Âú®ÂêÉÈ£ØÂóéÔºü</span> (<span class="pinyin">n«ê z√†i chƒ´f√†n ma?</span>)
                                <br><small class="text-muted">Answer (Yes): <span class="hanzi" data-speak="Âú®">Âú®</span> (<span class="pinyin">z√†i</span>) or <span class="hanzi" data-speak="ÊàëÂú®ÂêÉÈ£Ø">ÊàëÂú®ÂêÉÈ£Ø</span> (<span class="pinyin">w«í z√†i chƒ´f√†n</span>).</small>
                                <br><small class="text-muted">Answer (No): <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>) or <span class="hanzi" data-speak="Ê≤íÊúâÂú®ÂêÉ">Ê≤íÊúâÂú®ÂêÉ</span> (<span class="pinyin">m√©iy«íu z√†i chƒ´</span>).</small></li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Key Comparison: Âú® (z√†i) vs. ‰∫Ü (le) vs. ÈÅé (guo)</h5>
                            <p class="text-sm mb-3">Let's use "watch a movie" (<span class="hanzi" data-speak="ÁúãÈõªÂΩ±">ÁúãÈõªÂΩ±</span> / <span class="pinyin">k√†n di√†ny«êng</span>) to see the difference.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><span class="pinyin">Âú® (z√†i)</span> = **Present/Ongoing.** The action is happening *right now*.
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÂú®ÁúãÈõªÂΩ±">ÊàëÂú®ÁúãÈõªÂΩ±</span> (<span class="pinyin">W«í z√†i k√†n di√†ny«êng</span>)
                                    <br><small class="ml-4 text-muted">"I **am watching** a movie."</small></li>
                                
                                <li><span class="pinyin">‰∫Ü (le)</span> = **Completed.** A *specific* action was completed.
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÁúãÂÆå‰∫ÜÈõªÂΩ±">ÊàëÁúãÂÆå‰∫ÜÈõªÂΩ±</span> (<span class="pinyin">W«í k√†n w√°n le di√†ny«êng</span>)
                                    <br><small class="ml-4 text-muted">"I **finished watching** the movie." (The event is over).</small></li>
                                
                                <li><span class="pinyin">ÈÅé (guo)</span> = **Experienced.** You have had the experience *at least once* in your life.
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÁúãÈÅéÈÄôÈÉ®ÈõªÂΩ±">ÊàëÁúãÈÅéÈÄôÈÉ®ÈõªÂΩ±</span> (<span class="pinyin">W«í k√†n guo zh√® b√π di√†ny«êng</span>)
                                    <br><small class="ml-4 text-muted">"I **have seen** this movie (before)." (I have the experience of seeing it.)</small></li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson10"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson11"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson12"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson12">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 12: Dates & Time (Êó•ÊúüËàáÊôÇÈñì)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Telling dates and time in Mandarin is very logical. The main rule is to go from the largest unit to the smallest (Year > Month > Day > Time). All examples use Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Days of the Week (ÊòüÊúü)</h4>
                        <p class="mb-4 text-muted">You just combine <span class="hanzi" data-speak="ÊòüÊúü">ÊòüÊúü</span> (<span class="pinyin">xƒ´ngq√≠</span>) with a number. The week starts on Monday.</p>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead><tr><th>English</th><th>Traditional Chinese</th><th>Pinyin</th></tr></thead>
                                <tbody>
                                    <tr><td>Monday</td><td><span class="hanzi" data-speak="ÊòüÊúü‰∏Ä">ÊòüÊúü‰∏Ä</span></td><td><span class="pinyin">xƒ´ngq√≠ yƒ´</span></td></tr>
                                    <tr><td>Tuesday</td><td><span class="hanzi" data-speak="ÊòüÊúü‰∫å">ÊòüÊúü‰∫å</span></td><td><span class="pinyin">xƒ´ngq√≠ √®r</span></td></tr>
                                    <tr><td>Wednesday</td><td><span class="hanzi" data-speak="ÊòüÊúü‰∏â">ÊòüÊúü‰∏â</span></td><td><span class="pinyin">xƒ´ngq√≠ sƒÅn</span></td></tr>
                                    <tr><td>Thursday</td><td><span class="hanzi" data-speak="ÊòüÊúüÂõõ">ÊòüÊúüÂõõ</span></td><td><span class="pinyin">xƒ´ngq√≠ s√¨</span></td></tr>
                                    <tr><td>Friday</td><td><span class="hanzi" data-speak="ÊòüÊúü‰∫î">ÊòüÊúü‰∫î</span></td><td><span class="pinyin">xƒ´ngq√≠ w«î</span></td></tr>
                                    <tr><td>Saturday</td><td><span class="hanzi" data-speak="ÊòüÊúüÂÖ≠">ÊòüÊúüÂÖ≠</span></td><td><span class="pinyin">xƒ´ngq√≠ li√π</span></td></tr>
                                    <tr><td>Sunday</td><td><span class="hanzi" data-speak="ÊòüÊúüÂ§©">ÊòüÊúüÂ§©</span> / <span class="hanzi" data-speak="ÊòüÊúüÊó•">ÊòüÊúüÊó•</span></td><td><span class="pinyin">xƒ´ngq√≠ tiƒÅn / xƒ´ngq√≠ r√¨</span></td></tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Months of the Year (Êúà)</h4>
                        <p class="mb-4 text-muted">This is even easier. Just say the number (1-12) followed by <span class="hanzi" data-speak="Êúà">Êúà</span> (<span class="pinyin">yu√®</span>).</p>
                        <ul class="space-y-2 text-sm">
                            <li><strong>January:</strong> <span class="hanzi" data-speak="‰∏ÄÊúà">‰∏ÄÊúà</span> (<span class="pinyin">y√≠ yu√®</span>)</li>
                            <li><strong>February:</strong> <span class="hanzi" data-speak="‰∫åÊúà">‰∫åÊúà</span> (<span class="pinyin">√®r yu√®</span>)</li>
                            <li><strong>...December:</strong> <span class="hanzi" data-speak="ÂçÅ‰∫åÊúà">ÂçÅ‰∫åÊúà</span> (<span class="pinyin">sh√≠ √®r yu√®</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Constructing Dates & Relative Days</h4>
                        <p class="mb-4 text-muted">Remember: Big to small. <span class="hanzi" data-speak="Âπ¥">Âπ¥</span> (<span class="pinyin">ni√°n</span>) = Year, <span class="hanzi" data-speak="Êúà">Êúà</span> (<span class="pinyin">yu√®</span>) = Month, <span class="hanzi" data-speak="Êó•">Êó•</span> (<span class="pinyin">r√¨</span>) / <span class="hanzi" data-speak="Ëôü">Ëôü</span> (<span class="pinyin">h√†o</span>) = Day. <span class="pinyin">h√†o</span> is more common in spoken Mandarin.</p>
                        <ul class="space-y-4">
                            <li><strong>Today:</strong> <span class="hanzi" data-speak="‰ªäÂ§©">‰ªäÂ§©</span> (<span class="pinyin">jƒ´ntiƒÅn</span>)</li>
                            <li><strong>Yesterday:</strong> <span class="hanzi" data-speak="Êò®Â§©">Êò®Â§©</span> (<span class="pinyin">zu√≥tiƒÅn</span>)</li>
                            <li><strong>Tomorrow:</strong> <span class="hanzi" data-speak="ÊòéÂ§©">ÊòéÂ§©</span> (<span class="pinyin">m√≠ngtiƒÅn</span>)</li>
                            <li><strong>Example Date (Oct 30, 2025):</strong> <span class="hanzi" data-speak="‰∫åÈõ∂‰∫å‰∫îÂπ¥ÂçÅÊúà‰∏âÂçÅËôü">‰∫åÈõ∂‰∫å‰∫îÂπ¥ÂçÅÊúà‰∏âÂçÅËôü</span>
                                <br><small class="pinyin">(√àr l√≠ng √®r w«î ni√°n, sh√≠ yu√®, sƒÅn sh√≠ h√†o)</small>
                                <br><small class="text-muted">Note: The year is read as individual digits.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Telling Time (ÊôÇÈñì)</h4>
                        <p class="mb-4 text-muted">Use <span class="hanzi" data-speak="Èªû">Èªû</span> (<span class="pinyin">di«én</span>) for "o'clock" and <span class="hanzi" data-speak="ÂàÜ">ÂàÜ</span> (<span class="pinyin">fƒìn</span>) for "minute".</p>
                        <ul class="space-y-4">
                            <li><strong>2 o'clock:</strong> <span class="hanzi" data-speak="ÂÖ©Èªû">ÂÖ©Èªû</span> (<span class="pinyin">li«éng di«én</span>) - **Crucial:** Use <span class="hanzi" data-speak="ÂÖ©">ÂÖ©</span> (<span class="pinyin">li«éng</span>), not <span class="hanzi" data-speak="‰∫å">‰∫å</span> (<span class="pinyin">√®r</span>) for "2 o'clock".</li>
                            <li><strong>3:10 (Ten past three):</strong> <span class="hanzi" data-speak="‰∏âÈªûÂçÅÂàÜ">‰∏âÈªûÂçÅÂàÜ</span> (<span class="pinyin">sƒÅn di«én sh√≠ fƒìn</span>)</li>
                            <li><strong>4:30 (Half past four):</strong> <span class="hanzi" data-speak="ÂõõÈªûÂçä">ÂõõÈªûÂçä</span> (<span class="pinyin">s√¨ di«én b√†n</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="Âçä">Âçä</span> (<span class="pinyin">b√†n</span>) means "half".</small></li>
                            <li><strong>5:15 (A quarter past five):</strong> <span class="hanzi" data-speak="‰∫îÈªû‰∏ÄÂàª">‰∫îÈªû‰∏ÄÂàª</span> (<span class="pinyin">w«î di«én y√≠ k√®</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="Âàª">Âàª</span> (<span class="pinyin">k√®</span>) means "quarter hour".</small></li>
                            <li><strong>Parts of the day:</strong>
                                <br><small class="text-muted"><strong>Morning:</strong> <span class="hanzi" data-speak="Êó©‰∏ä">Êó©‰∏ä</span> (<span class="pinyin">z«éoshang</span>) - e.g., <span class="hanzi" data-speak="Êó©‰∏äÂÖ´Èªû">Êó©‰∏äÂÖ´Èªû</span> (8:00 AM)</small>
                                <br><small class="text-muted"><strong>Afternoon:</strong> <span class="hanzi" data-speak="‰∏ãÂçà">‰∏ãÂçà</span> (<span class="pinyin">xi√†w«î</span>) - e.g., <span class="hanzi" data-speak="‰∏ãÂçàÂÖ©Èªû">‰∏ãÂçàÂÖ©Èªû</span> (2:00 PM)</small>
                                <br><small class="text-muted"><strong>Evening/Night:</strong> <span class="hanzi" data-speak="Êôö‰∏ä">Êôö‰∏ä</span> (<span class="pinyin">w«énshang</span>) - e.g., <span class="hanzi" data-speak="Êôö‰∏ä‰∏ÉÈªû">Êôö‰∏ä‰∏ÉÈªû</span> (7:00 PM)</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Asking Questions</h4>
                        <ul class="space-y-4">
                            <li><strong>What time is it now?:</strong> <span class="hanzi" data-speak="ÁèæÂú®ÂπæÈªû">ÁèæÂú®ÂπæÈªûÔºü</span> (<span class="pinyin">Xi√†nz√†i j«ê di«én?</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="ÁèæÂú®">ÁèæÂú®</span> (<span class="pinyin">xi√†nz√†i</span>) = now. <span class="hanzi" data-speak="ÂπæÈªû">ÂπæÈªû</span> (<span class="pinyin">j«ê di«én</span>) = what o'clock?</small></li>
                            <li><strong>What is the date today?:</strong> <span class="hanzi" data-speak="‰ªäÂ§©ÂπæÊúàÂπæËôü">‰ªäÂ§©ÂπæÊúàÂπæËôüÔºü</span> (<span class="pinyin">Jƒ´ntiƒÅn j«ê yu√® j«ê h√†o?</span>)
                                <br><small class="text-muted">Literally: "Today what month what day?"</small></li>
                            <li><strong>What day of the week is it?:</strong> <span class="hanzi" data-speak="‰ªäÂ§©ÊòüÊúüÂπæ">‰ªäÂ§©ÊòüÊúüÂπæÔºü</span> (<span class="pinyin">Jƒ´ntiƒÅn xƒ´ngq√≠ j«ê?</span>)
                                <br><small class="text-muted">Literally: "Today week what number?"</small></li>
                        </ul>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson11"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson12"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson13"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson13">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 13: Measure Words (ÈáèË©û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Measure words (classifiers) are a major feature of Mandarin. In English, we use them for some nouns (e.g., "a *sheet* of paper," "a *cup* of tea"). In Mandarin, you must use a measure word *every time* you count a noun. You cannot say "one book"; you must say "one *[measure word for books]* book."</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">The Basic Structure</h4>
                        <p class="mb-4 text-muted">The measure word always goes between the number and the noun.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Number + Measure Word (MW) + Noun</code></p>
                        <ul class="space-y-4">
                            <li><strong>One person:</strong> <span class="hanzi" data-speak="‰∏ÄÂÄã‰∫∫">‰∏ÄÂÄã‰∫∫</span> (<span class="pinyin">y√≠ ge r√©n</span>)
                                <br><small class="text-muted">Not <span class="pinyin">yƒ´ r√©n</span>. <span class="hanzi" data-speak="ÂÄã">ÂÄã</span> (<span class="pinyin">ge</span>) is the measure word.</small></li>
                            <li><strong>This person:</strong> <span class="hanzi" data-speak="ÈÄôÂÄã‰∫∫">ÈÄôÂÄã‰∫∫</span> (<span class="pinyin">zh√® ge r√©n</span>)
                                <br><small class="text-muted">The rule also applies to "this" (<span class="hanzi" data-speak="ÈÄô">ÈÄô</span>, <span class="pinyin">zh√®</span>) and "that" (<span class="hanzi" data-speak="ÈÇ£">ÈÇ£</span>, <span class="pinyin">n√†</span>).</small></li>
                            <li><strong>How many people?:</strong> <span class="hanzi" data-speak="ÂπæÂÄã‰∫∫">ÂπæÂÄã‰∫∫Ôºü</span> (<span class="pinyin">j«ê ge r√©n?</span>)
                                <br><small class="text-muted">It's also used with "how many/a few" (<span class="hanzi" data-speak="Âπæ">Âπæ</span>, <span class="pinyin">j«ê</span>).</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Common Measure Words</h4>
                        <p class="mb-4 text-muted">Different nouns take different measure words. When in doubt, <span class="hanzi" data-speak="ÂÄã">ÂÄã</span> (<span class="pinyin">ge</span>) is the most common and often acceptable, but learning the correct one is best.</p>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>MW (Trad.)</th>
                                        <th>Pinyin</th>
                                        <th>Used For (Examples)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÂÄã">ÂÄã</span></td>
                                        <td><span class="pinyin">ge</span></td>
                                        <td>The "general" measure word. Used for people, abstract things, fruit, etc.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÂÄã‰∫∫">‰∏ÄÂÄã‰∫∫</span> one person, <span class="hanzi" data-speak="‰∏âÂÄãËòãÊûú">‰∏âÂÄãËòãÊûú</span> three apples)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÊùØ">ÊùØ</span></td>
                                        <td><span class="pinyin">bƒìi</span></td>
                                        <td>"Cup" - for drinks.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÊùØËå∂">‰∏ÄÊùØËå∂</span> one cup of tea, <span class="hanzi" data-speak="ÂÖ©ÊùØÂíñÂï°">ÂÖ©ÊùØÂíñÂï°</span> two cups of coffee)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Êú¨">Êú¨</span></td>
                                        <td><span class="pinyin">bƒõn</span></td>
                                        <td>For bound items like books, magazines.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÊú¨Êõ∏">‰∏ÄÊú¨Êõ∏</span> one book)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Âºµ">Âºµ</span></td>
                                        <td><span class="pinyin">zhƒÅng</span></td>
                                        <td>For flat, paper-like objects.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÂºµÊ°åÂ≠ê">‰∏ÄÂºµÊ°åÂ≠ê</span> one table, <span class="hanzi" data-speak="‰∏ÄÂºµÁ¥ô">‰∏ÄÂºµÁ¥ô</span> one sheet of paper, <span class="hanzi" data-speak="‰∏ÄÂºµÁ•®">‰∏ÄÂºµÁ•®</span> one ticket)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="‰Ωç">‰Ωç</span></td>
                                        <td><span class="pinyin">w√®i</span></td>
                                        <td>Polite measure word for people.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏Ä‰ΩçËÄÅÂ∏´">‰∏Ä‰ΩçËÄÅÂ∏´</span> one teacher, <span class="hanzi" data-speak="ÂÖ©‰ΩçÂÆ¢‰∫∫">ÂÖ©‰ΩçÂÆ¢‰∫∫</span> two guests)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Èöª">Èöª</span></td>
                                        <td><span class="pinyin">zhƒ´</span></td>
                                        <td>For most animals (cats, dogs, birds).
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÈöªÁãó">‰∏ÄÈöªÁãó</span> one dog, <span class="hanzi" data-speak="‰∏âÈöªË≤ì">‰∏âÈöªË≤ì</span> three cats)</small></td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Ê¢ù">Ê¢ù</span></td>
                                        <td><span class="pinyin">ti√°o</span></td>
                                        <td>For long, thin, flexible objects.
                                            <br><small class->(e.g., <span class="hanzi" data-speak="‰∏ÄÊ¢ùÈ≠ö">‰∏ÄÊ¢ùÈ≠ö</span> one fish, <span class="hanzi" data-speak="‰∏ÄÊ¢ùË§≤Â≠ê">‰∏ÄÊ¢ùË§≤Â≠ê</span> one pair of pants, <span class="hanzi" data-speak="‰∏ÄÊ¢ùÊ≤≥">‰∏ÄÊ¢ùÊ≤≥</span> one river)</small></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Crucial Rule: ‰∫å (√®r) vs. ÂÖ© (li«éng) Revisited</h5>
                            <p class="text-sm">In Lesson 4, we learned that <span class="pinyin">√®r</span> is for counting and <span class="pinyin">li«éng</span> is for "two of something." This "something" is the measure word!</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-2">
                                <li>**You MUST use <span class="hanzi" data-speak="ÂÖ©">ÂÖ©</span> (<span class="pinyin">li«éng</span>) when you mean "two of [Noun]" with a measure word.**</li>
                                <li><strong>Correct:</strong> <span class="hanzi" data-speak="ÂÖ©ÂÄã‰∫∫">ÂÖ©ÂÄã‰∫∫</span> (<span class="pinyin">li«éng ge r√©n</span>) - Two people.</li>
                                <li><strong>Correct:</strong> <span class="hanzi" data-speak="ÂÖ©Êú¨Êõ∏">ÂÖ©Êú¨Êõ∏</span> (<span class="pinyin">li«éng bƒõn sh≈´</span>) - Two books.</li>
                                <li><strong>Correct:</strong> <span class="hanzi" data-speak="ÂÖ©ÊùØËå∂">ÂÖ©ÊùØËå∂</span> (<span class="pinyin">li«éng bƒìi ch√°</span>) - Two cups of tea.</li>
                                <li class="mt-2"><strong>Incorrect:</strong> <span class="pinyin">√®r ge r√©n</span>, <span class="pinyin">√®r bƒõn sh≈´</span>, <span class="pinyin">√®r bƒìi ch√°</span>.</li>
                                <li class="mt-2">Use <span class="hanzi" data-speak="‰∫å">‰∫å</span> (<span class="pinyin">√®r</span>) only when the "2" is part of a larger number (like 12, 20, 22).
                                    <br><small class="text-muted">e.g., <span class="hanzi" data-speak="ÂçÅ‰∫åÂÄã‰∫∫">ÂçÅ‰∫åÂÄã‰∫∫</span> (<span class="pinyin">sh√≠ √®r ge r√©n</span>) - 12 people.</small>
                                    <br><small class="text-muted">e.g., <span class="hanzi" data-speak="‰∫åÂçÅ‰∫åÊú¨Êõ∏">‰∫åÂçÅ‰∫åÊú¨Êõ∏</span> (<span class="pinyin">√®r sh√≠ √®r bƒõn sh≈´</span>) - 22 books.</small>
                                </li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson12"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson13"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson14"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson14">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 14: 'De' Particles (ÁöÑ, Âú∞, Âæó)</h3>
                        <p class="mb-5 text-muted leading-relaxed">This is one of the most confusing grammar points for learners. All three particles are pronounced <span class="pinyin">de</span> (neutral tone), but they have completely different grammatical roles. They act as "glue" to connect different parts of a sentence. We'll use Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">1. ÁöÑ (de) - The "Possessive / Adjective" Marker</h4>
                        <p class="mb-4 text-muted">This is the most common <span class="pinyin">de</span>. It links a noun/pronoun to another noun to show possession, or links an adjective to a noun it's describing.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure 1 (Possession): <code class="pinyin">Noun/Pronoun + ÁöÑ + Noun</code></p>
                        <ul class="space-y-4">
                            <li><strong>My book:</strong> <span class="hanzi" data-speak="ÊàëÁöÑÊõ∏">ÊàëÁöÑÊõ∏</span> (<span class="pinyin">w«í de sh≈´</span>)</li>
                            <li><strong>His teacher:</strong> <span class="hanzi" data-speak="‰ªñÁöÑËÄÅÂ∏´">‰ªñÁöÑËÄÅÂ∏´</span> (<span class="pinyin">tƒÅ de l«éoshƒ´</span>)</li>
                        </ul>
                        <p class="mb-4 mt-4 text-sm font-semibold text-slate-700">Structure 2 (Adjective): <code class="pinyin">Adjective + ÁöÑ + Noun</code></p>
                        <ul class="space-y-4">
                            <li><strong>A red apple:</strong> <span class="hanzi" data-speak="Á¥ÖËâ≤ÁöÑËòãÊûú">Á¥ÖËâ≤ÁöÑËòãÊûú</span> (<span class="pinyin">h√≥ngs√® de p√≠nggu«í</span>)</li>
                            <li><strong>A happy person:</strong> <span class="hanzi" data-speak="Âø´Ê®ÇÁöÑ‰∫∫">Âø´Ê®ÇÁöÑ‰∫∫</span> (<span class="pinyin">ku√†il√® de r√©n</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">2. Âú∞ (de) - The "Adverb" Marker</h4>
                        <p class="mb-4 text-muted">This <span class="pinyin">de</span> is used to turn an adjective into an adverb, describing *how* an action is performed. It's the equivalent of adding "-ly" in English. It links an adjective to a verb.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Adjective + Âú∞ + Verb</code></p>
                        <ul class="space-y-4">
                            <li><strong>To eat happily:</strong> <span class="hanzi" data-speak="Âø´Ê®ÇÂú∞ÂêÉ">Âø´Ê®ÇÂú∞ÂêÉ</span> (<span class="pinyin">ku√†il√® de chƒ´</span>)
                                <br><small class="text-muted">How does he eat? Happily.</small></li>
                            <li><strong>To walk slowly:</strong> <span class="hanzi" data-speak="ÊÖ¢ÊÖ¢Âú∞Ëµ∞">ÊÖ¢ÊÖ¢Âú∞Ëµ∞</span> (<span class="pinyin">m√†n man de z«íu</span>)
                                <br><small class="text-muted">How does she walk? Slowly.</small></li>
                            <li><strong>Note:</strong> In modern Mandarin (especially spoken), it's very common to use <span class="hanzi" data-speak="ÁöÑ">ÁöÑ</span> instead of <span class="hanzi" data-speak="Âú∞">Âú∞</span> (e.g., <span class="hanzi" data-speak="Âø´Ê®ÇÁöÑÂêÉ">Âø´Ê®ÇÁöÑÂêÉ</span>). However, <span class="hanzi" data-speak="Âú∞">Âú∞</span> is correct for formal writing.</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">3. Âæó (de) - The "Degree / Complement" Marker</h4>
                        <p class="mb-4 text-muted">This <span class="pinyin">de</span> is used to describe the *result, degree, or quality* of an action. It always comes *after* a verb.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Verb + Âæó + Adverb/Description</code></p>
                        <ul class="space-y-4">
                            <li><strong>He runs fast:</strong> <span class="hanzi" data-speak="‰ªñË∑ëÂæóÂæàÂø´">‰ªñË∑ëÂæóÂæàÂø´</span> (<span class="pinyin">tƒÅ p«éo de hƒõn ku√†i</span>)
                                <br><small class="text-muted">"He runs" (‰ªñË∑ë) + "to a degree that is very fast" (ÂæóÂæàÂø´).</small></li>
                            <li><strong>She sings well:</strong> <span class="hanzi" data-speak="Â•πÂî±ÂæóÂæàÂ•Ω">Â•πÂî±ÂæóÂæàÂ•Ω</span> (<span class="pinyin">tƒÅ ch√†ng de hƒõn h«éo</span>)
                                <br><small class="text-muted">"She sings" (Â•πÂî±) + "to a degree that is very good" (ÂæóÂæàÂ•Ω).</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Tricky Rule: Using Âæó (de) with an Object</h4>
                        <p class="mb-4 text-muted">If the verb has an object (like "speak Chinese"), you must repeat the verb.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Verb + Object, Verb + Âæó + Description</code></p>
                        <ul class="space-y-4">
                            <li><strong>He speaks Chinese well:</strong> <span class="hanzi" data-speak="‰ªñË™™‰∏≠ÊñáË™™ÂæóÂæàÂ•Ω">‰ªñË™™‰∏≠ÊñáÔºåË™™ÂæóÂæàÂ•Ω</span> (<span class="pinyin">tƒÅ shu≈ç Zh≈çngw√©n, shu≈ç de hƒõn h«éo</span>)
                                <br><small class="text-muted">Literally: "He speaks Chinese, speaks to a degree that is very good."</small></li>
                            <li><strong>Alternative:</strong> You can also move the object to the front.
                                <br><small class="hanzi" data-speak="‰∏≠Êñá‰ªñË™™ÂæóÂæàÂ•Ω">‰∏≠Êñá‰ªñË™™ÂæóÂæàÂ•Ω</span> (<span class="pinyin">Zh≈çngw√©n tƒÅ shu≈ç de hƒõn h«éo</span>) - "Chinese, he speaks very well."</small></li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Quick Comparison: ÁöÑ, Âú∞, Âæó</h5>
                            <p class="text-sm">Use the word "happy" (<span class="hanzi" data-speak="Âø´Ê®Ç">Âø´Ê®Ç</span> / <span class="pinyin">ku√†il√®</span>) as a test.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><span class="pinyin">ÁöÑ (de)</span> modifies the **Noun**:
                                    <br><strong class="ml-4"><span class="hanzi" data-speak="Âø´Ê®ÇÁöÑ‰∫∫">Âø´Ê®ÇÁöÑ</span>‰∫∫</span> (<span class="pinyin">ku√†il√® de r√©n</span>) = a happy **person** (What kind of person?)</li>
                                
                                <li><span class="pinyin">Âú∞ (de)</span> modifies the **Verb**:
                                    <br><strong class="ml-4"><span class="hanzi" data-speak="Âø´Ê®ÇÂú∞ÂêÉ">Âø´Ê®ÇÂú∞</span>ÂêÉ</span> (<span class="pinyin">ku√†il√® de chƒ´</span>) = to **eat** happily (How do you eat?)</li>
                                
                                <li><span class="pinyin">Âæó (de)</span> describes the **Verb**:
                                    <br><strong class="ml-4"><span class="hanzi" data-speak="ÂêÉÂæóÂø´Ê®Ç">ÂêÉÂæó</span>Âø´Ê®Ç</span> (<span class="pinyin">chƒ´ de ku√†il√®</span>) = to eat **happily** (How is the eating? It is happy.)</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson13"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson14"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson15"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson15">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 15: Comparisons (ÊØî, Ë∑ü)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Learning to compare things is essential. Mandarin has a few simple structures for this. The main words to learn are <span class="hanzi" data-speak="ÊØî">ÊØî</span> (<span class="pinyin">b«ê</span>, "compared to"), <span class="hanzi" data-speak="Ë∑ü">Ë∑ü</span> (<span class="pinyin">gƒìn</span>, "with"), <span class="hanzi" data-speak="‰∏ÄÊ®£">‰∏ÄÊ®£</span> (<span class="pinyin">y√≠y√†ng</span>, "same"), and <span class="hanzi" data-speak="ÊúÄ">ÊúÄ</span> (<span class="pinyin">zu√¨</span>, "most"). We'll use Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">1. Comparative with ÊØî (b«ê) - "A is more [Adj] than B"</h4>
                        <p class="mb-4 text-muted">This is the most common way to say something is "more... than..." The structure is simple and direct.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">A + ÊØî (b«ê) + B + Adjective</code></p>
                        <ul class="space-y-4">
                            <li><strong>I am taller than you:</strong> <span class="hanzi" data-speak="ÊàëÊØî‰Ω†È´ò">ÊàëÊØî‰Ω†È´ò</span> (<span class="pinyin">w«í b«ê n«ê gƒÅo</span>)
                                <br><small class="text-muted">Literally: "I compare you tall."</small></li>
                            <li><strong>Taipei is bigger than Hualien:</strong> <span class="hanzi" data-speak="Âè∞ÂåóÊØîËä±ËìÆÂ§ß">Âè∞ÂåóÊØîËä±ËìÆÂ§ß</span> (<span class="pinyin">T√°ibƒõi b«ê HuƒÅli√°n d√†</span>)</li>
                            <li><strong>This is more expensive than that:</strong> <span class="hanzi" data-speak="ÈÄôÂÄãÊØîÈÇ£ÂÄãË≤¥">ÈÄôÂÄãÊØîÈÇ£ÂÄãË≤¥</span> (<span class="pinyin">zh√®ge b«ê n√†ge gu√¨</span>)</li>
                            <li><strong>Note:</strong> You CANNOT use <span class="hanzi" data-speak="Âæà">Âæà</span> (<span class="pinyin">hƒõn</span>) with <span class="hanzi" data-speak="ÊØî">ÊØî</span>.
                                <br><small class="text-muted"><strong>Incorrect:</strong> <span class="pinyin">w«í b«ê n«ê hƒõn gƒÅo</span>.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">2. "The same as" with Ë∑ü (gƒìn)...‰∏ÄÊ®£ (y√≠y√†ng)</h4>
                        <p class="mb-4 text-muted">To say two things are equal or the same, you use this "with... same" structure.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">A + Ë∑ü (gƒìn) + B + ‰∏ÄÊ®£ (y√≠y√†ng) + (Adjective)</code></p>
                        <ul class="space-y-4">
                            <li><strong>I am the same height as you:</strong> <span class="hanzi" data-speak="ÊàëË∑ü‰Ω†‰∏ÄÊ®£È´ò">ÊàëË∑ü‰Ω†‰∏ÄÊ®£È´ò</span> (<span class="pinyin">w«í gƒìn n«ê y√≠y√†ng gƒÅo</span>)
                                <br><small class="text-muted">Literally: "I with you same tall."</small></li>
                            <li><strong>This book is the same as that one:</strong> <span class="hanzi" data-speak="ÈÄôÊú¨Êõ∏Ë∑üÈÇ£Êú¨Êõ∏‰∏ÄÊ®£">ÈÄôÊú¨Êõ∏Ë∑üÈÇ£Êú¨Êõ∏‰∏ÄÊ®£</span> (<span class="pinyin">zh√® bƒõn sh≈´ gƒìn n√† bƒõn sh≈´ y√≠y√†ng</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">3. Superlative with ÊúÄ (zu√¨) - "The most"</h4>
                        <p class="mb-4 text-muted">To say something is the "most" (e.g., biggest, fastest, best), you just put <span class="hanzi" data-speak="ÊúÄ">ÊúÄ</span> (<span class="pinyin">zu√¨</span>) before the adjective.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + ÊúÄ (zu√¨) + Adjective</code></p>
                        <ul class="space-y-4">
                            <li><strong>He is the tallest:</strong> <span class="hanzi" data-speak="‰ªñÊúÄÈ´ò">‰ªñÊúÄÈ´ò</span> (<span class="pinyin">tƒÅ zu√¨ gƒÅo</span>)</li>
                            <li><strong>This is the best:</strong> <span class="hanzi" data-speak="ÈÄôÂÄãÊúÄÂ•Ω">ÈÄôÂÄãÊúÄÂ•Ω</span> (<span class="pinyin">zh√®ge zu√¨ h«éo</span>)</li>
                            <li><strong>Which do you like most?:</strong> <span class="hanzi" data-speak="‰Ω†ÊúÄÂñúÊ≠°Âì™‰∏ÄÂÄã">‰Ω†ÊúÄÂñúÊ≠°Âì™‰∏ÄÂÄãÔºü</span> (<span class="pinyin">n«ê zu√¨ x«êhuan n«é y√≠ ge?</span>)</li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: Negative Comparisons</h5>
                            <p class="text-sm mb-3">How to say "A is not as... as B" and "A is not the same as B".</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>"Not as... as" with <span class="pinyin">Ê≤íÊúâ (m√©iy«íu)</span>:</strong> This is the negative of <span class="pinyin">ÊØî (b«ê)</span>.
                                    <br><strong class="ml-4">Structure:</strong> <code class="pinyin">A + Ê≤íÊúâ (m√©iy«íu) + B + (ÈÄôÈ∫º/ÈÇ£È∫º) + Adjective</code>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâ‰Ω†È´ò">ÊàëÊ≤íÊúâ‰Ω†È´ò</span> (<span class="pinyin">w«í m√©iy«íu n«ê gƒÅo</span>)
                                    <br><small class="ml-4 text-muted">"I am not as tall as you." (Literally: "I don't have your tallness.")</small>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="Ëä±ËìÆÊ≤íÊúâÂè∞ÂåóÈÇ£È∫ºÂ§ß">Ëä±ËìÆÊ≤íÊúâÂè∞ÂåóÈÇ£È∫ºÂ§ß</span> (<span class="pinyin">HuƒÅli√°n m√©iy«íu T√°ibƒõi n√†me d√†</span>)
                                    <br><small class="ml-4 text-muted">"Hualien is not as big as Taipei." (<span class="pinyin">n√†me</span> "that" / "so" is often added).</small></li>
                                
                                <li><strong>"Not the same as" with <span class="pinyin">‰∏ç‰∏ÄÊ®£ (b√π y√≠y√†ng)</span>:</strong> This is the negative of <span class="pinyin">Ë∑ü...‰∏ÄÊ®£</span>.
                                    <br><strong class="ml-4">Structure:</strong> <code class="pinyin">A + Ë∑ü + B + ‰∏ç‰∏ÄÊ®£ + (Adjective)</code>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëË∑ü‰Ω†‰∏ç‰∏ÄÊ®£È´ò">ÊàëË∑ü‰Ω†‰∏ç‰∏ÄÊ®£È´ò</span> (<span class="pinyin">w«í gƒìn n«ê b√π y√≠y√†ng gƒÅo</span>)
                                    <br><small class="ml-4 text-muted">"My height and your height are not the same."</Setting></li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson14"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson15"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson16"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson16">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 16: 'Ba' Sentence (ÊääÂè•Â≠ê)</h3>
                        <p class="mb-5 text-muted leading-relaxed">The <span class="hanzi" data-speak="Êää">Êää</span> (<span class="pinyin">b«é</span>) sentence is a key structure in Mandarin that emphasizes what happens to an object. It's often called the "disposal" structure because it describes how someone "handles" or "disposes of" something. It moves the object to *before* the verb.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">The Basic Structure</h4>
                        <p class="mb-4 text-muted">The normal structure is Subject-Verb-Object (e.g., <span class="hanzi" data-speak="ÊàëÂêÉÈ£Ø">ÊàëÂêÉÈ£Ø</span>). The <span class="pinyin">b«é</span> structure changes this, and the verb **must** be followed by a complement (like <span class="pinyin">le</span>, <span class="pinyin">w√°n</span>, <span class="pinyin">z√†i</span>, etc.).</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Êää (b«é) + Object + Verb + Complement/Result</code></p>
                        <ul class="space-y-4">
                            <li><strong>I ate the food. (I finished it):</strong> <span class="hanzi" data-speak="ÊàëÊääÈ£ØÂêÉÂÆå‰∫Ü">ÊàëÊääÈ£ØÂêÉÂÆå‰∫Ü</span> (<span class="pinyin">w«í b«é f√†n chƒ´ w√°n le</span>)
                                <br><small class="text-muted">Literally: "I `b«é` food eat-finished." This implies *the* food (a specific, definite object) is now gone.</small></li>
                            <li><strong>He closed the door:</strong> <span class="hanzi" data-speak="‰ªñÊääÈñÄÈóú‰∏ä‰∫Ü">‰ªñÊääÈñÄÈóú‰∏ä‰∫Ü</span> (<span class="pinyin">tƒÅ b«é m√©n guƒÅn sh√†ng le</span>)
                                <br><small class="text-muted">Literally: "He `b«é` door close-up." The action is done *to* the door.</small></li>
                            <li><strong>Please put the book here:</strong> <span class="hanzi" data-speak="Ë´ã‰Ω†ÊääÊõ∏ÊîæÂú®ÈÄôË£°">Ë´ã‰Ω†ÊääÊõ∏ÊîæÂú®ÈÄôË£°</span> (<span class="pinyin">q«êng n«ê b«é sh≈´ f√†ng z√†i zh√®l«ê</span>)
                                <br><small class="text-muted">Literally: "Please you `b«é` book place at here." The book is being "disposed of" to a new location.</small></li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Negative Structures</h4>
                        <p class="mb-4 text-muted">You negate a <span class="pinyin">b«é</span> sentence by placing <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>) or <span class="hanzi" data-speak="‰∏çË¶Å">‰∏çË¶Å</span> (<span class="pinyin">b√∫ y√†o</span>) *before* the <span class="pinyin">b«é</span>.</p>
                        <ul class="space-y-4">
                            <li><strong>I didn't finish the food:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÊääÈ£ØÂêÉÂÆå">ÊàëÊ≤íÊúâÊääÈ£ØÂêÉÂÆå</span> (<span class="pinyin">w«í m√©iy«íu b«é f√†n chƒ´ w√°n</span>)
                                <br><small class="text-muted">Note: The <span class="pinyin">le</span> is dropped, just like with other <span class="pinyin">m√©iy«íu</span> sentences.</small></li>
                            <li><strong>Don't close the door!:</strong> <span class="hanzi" data-speak="‰∏çË¶ÅÊääÈñÄÈóú‰∏ä">‰∏çË¶ÅÊääÈñÄÈóú‰∏äÔºÅ</span> (<span class="pinyin">b√∫ y√†o b«é m√©n guƒÅn sh√†ng!</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Standard Sentence vs. Êää (b«é) Sentence</h4>
                        <p class="mb-4 text-muted">Using <span class="pinyin">b«é</span> adds emphasis on the *result* of the action on the object. It highlights the "disposal" of the object.</p>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Meaning</th>
                                        <th>Standard (SVO)</th>
                                        <th>Êää (b«é) Sentence (Emphasis on result)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>I finished eating the food.</td>
                                        <td><span class="hanzi" data-speak="ÊàëÂêÉÂÆåÈ£Ø‰∫Ü">ÊàëÂêÉÂÆåÈ£Ø‰∫Ü</span><br>(<span class="pinyin">w«í chƒ´ w√°n f√†n le</span>)</td>
                                        <td><span class="hanzi" data-speak="ÊàëÊääÈ£ØÂêÉÂÆå‰∫Ü">ÊàëÊääÈ£ØÂêÉÂÆå‰∫Ü</span><br>(<span class="pinyin">w«í b«é f√†n chƒ´ w√°n le</span>)</td>
                                    </tr>
                                    <tr>
                                        <td>He gave the book to me.</td>
                                        <td><span class="hanzi" data-speak="‰ªñÁµ¶‰∫ÜÊàëÈÇ£Êú¨Êõ∏">‰ªñÁµ¶‰∫ÜÊàëÈÇ£Êú¨Êõ∏</span><br>(<span class="pinyin">tƒÅ gƒõi le w«í n√† bƒõn sh≈´</span>)</td>
                                        <td><span class="hanzi" data-speak="‰ªñÊääÈÇ£Êú¨Êõ∏Áµ¶‰∫ÜÊàë">‰ªñÊääÈÇ£Êú¨Êõ∏Áµ¶‰∫ÜÊàë</span><br>(<span class="pinyin">tƒÅ b«é n√† bƒõn sh≈´ gƒõi le w«í</span>)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Extra: Using Êää...Áµ¶... (b«é...gƒõi...)</h4>
                        <p class="mb-4 text-muted"><span class="hanzi" data-speak="Áµ¶">Áµ¶</span> (<span class="pinyin">gƒõi</span>) is often used in <span class="pinyin">b«é</span> sentences. It can act as a complement "to give," or sometimes just as an extra particle to add emphasis to the verb (common in Taiwan).</p>
                        <ul class="space-y-4">
                            <li><strong>As "to give":</strong> <span class="hanzi" data-speak="‰ªñÊääÈå¢Áµ¶‰∫ÜÊàë">‰ªñÊääÈå¢Áµ¶‰∫ÜÊàë</span> (<span class="pinyin">tƒÅ b«é qi√°n gƒõi le w«í</span>)
                                <br><small class="text-muted">"He `b«é` money gave to me." (Here `gƒõi` is the main verb complement).</small></li>
                            <li><strong>As emphasis (optional):</strong> <span class="hanzi" data-speak="‰Ω†ÊääÈñÄÈóú‰∏ä">‰Ω†ÊääÈñÄÈóú‰∏ä</span> (<span class="pinyin">n«ê b«é m√©n guƒÅn sh√†ng</span>)
                                <br><small class="text-muted">Can also be said: <span class="hanzi" data-speak="‰Ω†ÊääÈñÄÁµ¶Èóú‰∏ä">‰Ω†ÊääÈñÄÁµ¶Èóú‰∏ä</span> (<span class="pinyin">n«ê b«é m√©n gƒõi guƒÅn sh√†ng</span>). The meaning is the same, but <span class="pinyin">gƒõi</span> adds a bit of force.</small></li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Crucial Rules for Using Êää (b«é)</h5>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>1. The Object must be "Definite".</strong> The object must be something specific and known to both speakers (e.g., "that" book, "the" food, "my" keys), not "a" book.
                                    <br><small class="text-muted">Ex: <span class="hanzi" data-speak="ÊàëÊääÈÇ£Êú¨Êõ∏ÁúãÂÆå‰∫Ü">ÊàëÊääÈÇ£Êú¨Êõ∏ÁúãÂÆå‰∫Ü</span> (I finished reading *that* book).</small></li>
                                
                                <li><strong>2. The Verb MUST have a Complement.</strong> You can't just say <span class="hanzi" data-speak="ÊàëÊääÈ£ØÂêÉ">ÊàëÊääÈ£ØÂêÉ</span> (<span class="pinyin">w«í b«é f√†n chƒ´</span>). This is grammatically incomplete. The verb needs a result.
                                    <br><small class="text-muted"><strong>Correct:</strong> <span class="hanzi" data-speak="ÊàëÊääÈ£ØÂêÉ‰∫Ü">ÊàëÊääÈ£ØÂêÉ‰∫Ü</span> (chƒ´ le - *completion*)</small>
                                    <br><small class="text-muted"><strong>Correct:</strong> <span class="hanzi" data-speak="ÊàëÊääÈ£ØÂêÉÂÆå">ÊàëÊääÈ£ØÂêÉÂÆå</span> (chƒ´ w√°n - *finished*)</small>
                                    <br><small class="text-muted"><strong>Correct:</strong> <span class="hanzi" data-speak="ÊàëÊääÊõ∏ÊîæÂú®Ê°å‰∏ä">ÊàëÊääÊõ∏ÊîæÂú®Ê°å‰∏ä</span> (f√†ng z√†i zhu≈ç sh√†ng - *placed at a location*)</small></li>
                                
                                <li><strong>3. Don't use with "State" Verbs.</strong> You can't use <span class="pinyin">b«é</span> with verbs like <span class="hanzi" data-speak="ÊòØ">ÊòØ</span> (<span class="pinyin">sh√¨</span>), <span class="hanzi" data-speak="Êúâ">Êúâ</span> (<span class="pinyin">y«íu</span>), <span class="hanzi" data-speak="ÂñúÊ≠°">ÂñúÊ≠°</span> (<span class="pinyin">x«êhuan</span>), <span class="hanzi" data-speak="Áü•ÈÅì">Áü•ÈÅì</span> (<span class="pinyin">zhƒ´d√†o</span>), etc.</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson15"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson16"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson17"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                </section>
                <!-- END Level 2 -->

                <!-- NEW: Level 3 Placeholders -->
                <section id="level3" class="content-page-container">
                    <article class="content-page card p-6 mb-8" data-page-id="lesson17">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 17: Result Complements (ÁµêÊûúË£úË™û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Result Complements are words placed directly after a verb to show the *result* or *outcome* of that action. This is a crucial concept in Mandarin that replaces many adverbs or separate verbs in English. Using them makes your Chinese sound much more natural.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">The Basic Structure</h4>
                        <p class="mb-4 text-muted">The complement is "glued" to the verb, acting as a single unit. If you use <span class="pinyin">le</span> (‰∫Ü), it comes *after* the complement.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Verb + Complement + (‰∫Ü/le) + (Object)</code></p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Common Result Complements</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Complement</th>
                                        <th>Pinyin</th>
                                        <th>Meaning</th>
                                        <th>Example (Traditional Chinese, Pinyin, English)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÂÆå">ÂÆå</span></td>
                                        <td><span class="pinyin">w√°n</span></td>
                                        <td>"finish" (completion of the action)</td>
                                        <td><span class="hanzi" data-speak="ÊàëÂêÉÂÆå‰∫Ü">ÊàëÂêÉÂÆå‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í chƒ´ w√°n le.</span>) - I finished eating.
                                        <br><span class="hanzi" data-speak="‰Ω†ÂÅöÂÆåÂäüË™≤‰∫ÜÂóé">‰Ω†ÂÅöÂÆåÂäüË™≤‰∫ÜÂóéÔºü</span> (<span class="pinyin">N«ê zu√≤ w√°n g≈çngk√® le ma?</span>) - Did you finish (doing) your homework?</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Âà∞">Âà∞</span></td>
                                        <td><span class="pinyin">d√†o</span></td>
                                        <td>"arrive" (succeeding in or reaching the goal)</td>
                                        <td><span class="hanzi" data-speak="ÊàëÊâæÂà∞‰∫Ü">ÊàëÊâæÂà∞‰∫ÜÔºÅ</span> (<span class="pinyin">W«í zh«éo d√†o le!</span>) - I found it! (I "searched-to-arrival")
                                        <br><span class="hanzi" data-speak="‰Ω†Ë≤∑Âà∞Á•®‰∫ÜÂóé">‰Ω†Ë≤∑Âà∞Á•®‰∫ÜÂóéÔºü</span> (<span class="pinyin">N«ê m«éi d√†o pi√†o le ma?</span>) - Did you succeed in buying the tickets?</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Ë¶ã">Ë¶ã</span></td>
                                        <td><span class="pinyin">ji√†n</span></td>
                                        <td>"perceive" (result of seeing or hearing)</td>
                                        <td><span class="hanzi" data-speak="ÊàëÁúãË¶ã‰ªñ‰∫Ü">ÊàëÁúãË¶ã‰ªñ‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í k√†n ji√†n tƒÅ le.</span>) - I saw him. ("I looked-and-perceived him")
                                        <br><span class="hanzi" data-speak="‰Ω†ËÅΩË¶ã‰∫ÜÂóé">‰Ω†ËÅΩË¶ã‰∫ÜÂóéÔºü</span> (<span class="pinyin">N«ê tƒ´ng ji√†n le ma?</span>) - Did you hear that? ("Did you listen-and-perceive it?")</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÊáÇ">ÊáÇ</span></td>
                                        <td><span class="pinyin">d«íng</span></td>
                                        <td>"understand" (result of listening or reading)</td>
                                        <td><span class="hanzi" data-speak="ÊàëËÅΩÊáÇ‰∫Ü">ÊàëËÅΩÊáÇ‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í tƒ´ng d«íng le.</span>) - I understood. ("I listened-and-understood")
                                        <br><span class="hanzi" data-speak="‰Ω†ËÅΩÂæóÊáÇÂóé">‰Ω†ËÅΩÂæóÊáÇÂóéÔºü</span> (<span class="pinyin">N«ê tƒ´ng de d«íng ma?</span>) - Can you understand (what you're hearing)? (See 'Potential Form' below)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Â•Ω">Â•Ω</span></td>
                                        <td><span class="pinyin">h«éo</span></td>
                                        <td>"well" or "properly" (action is finished well)</td>
                                        <td><span class="hanzi" data-speak="È£ØÂÅöÂ•Ω‰∫Ü">È£ØÂÅöÂ•Ω‰∫Ü„ÄÇ</span> (<span class="pinyin">F√†n zu√≤ h«éo le.</span>) - The food is ready. ("The food is cooked-well")
                                        <br><span class="hanzi" data-speak="Ê∫ñÂÇôÂ•Ω‰∫ÜÂóé">Ê∫ñÂÇôÂ•Ω‰∫ÜÂóéÔºü</span> (<span class="pinyin">Zh«înb√®i h«éo le ma?</span>) - Are you ready? ("Prepared-well?")</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÈåØ">ÈåØ</span></td>
                                        <td><span class="pinyin">cu√≤</span></td>
                                        <td>"wrong" (action done incorrectly)</td>
                                        <td><span class="hanzi" data-speak="‰Ω†Ë™™ÈåØ‰∫Ü">‰Ω†Ë™™ÈåØ‰∫Ü„ÄÇ</span> (<span class="pinyin">N«ê shu≈ç cu√≤ le.</span>) - You spoke incorrectly.
                                        <br><span class="hanzi" data-speak="ÊàëÂØ´ÈåØ‰∫Ü">ÊàëÂØ´ÈåØ‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í xiƒõ cu√≤ le.</span>) - I wrote it wrong.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Negative Forms</h4>
                        <p class="mb-4 text-muted">To negate a *past* action with a result complement, use <span class="hanzi" data-speak="Ê≤íÊúâ">Ê≤íÊúâ</span> (<span class="pinyin">m√©iy«íu</span>). The <span class="pinyin">le</span> is dropped.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Structure: <code class="pinyin">Subject + Ê≤íÊúâ (m√©iy«íu) + Verb + Complement + (Object)</code></p>
                        <ul class="space-y-4">
                            <li><strong>I didn't finish eating:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÂêÉÂÆå">ÊàëÊ≤íÊúâÂêÉÂÆå„ÄÇ</span> (<span class="pinyin">W«í m√©iy«íu chƒ´ w√°n.</span>)</li>
                            <li><strong>I didn't find it:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâÊâæÂà∞">ÊàëÊ≤íÊúâÊâæÂà∞„ÄÇ</span> (<span class="pinyin">W«í m√©iy«íu zh«éo d√†o.</span>)</li>
                            <li><strong>I didn't hear it:</strong> <span class="hanzi" data-speak="ÊàëÊ≤íÊúâËÅΩË¶ã">ÊàëÊ≤íÊúâËÅΩË¶ã„ÄÇ</span> (<span class="pinyin">W«í m√©iy«íu tƒ´ng ji√†n.</span>)</li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: Potential Complements (Can / Can't)</h5>
                            <p class="text-sm mb-3">This is an advanced but related topic. To say you *can* or *cannot* achieve a result, you insert <span class="hanzi" data-speak="Âæó">Âæó</span> (<span class="pinyin">de</span>) or <span class="hanzi" data-speak="‰∏ç">‰∏ç</span> (<span class="pinyin">b√π</span>) between the verb and the complement. This describes *potential*.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>Can (Affirmative):</strong> <code class="pinyin">Verb + Âæó (de) + Complement</code>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëËÅΩÂæóÊáÇ">ÊàëËÅΩÂæóÊáÇ</span> (<span class="pinyin">w«í tƒ´ng de d«íng</span>)
                                    <br><small class="ml-4 text-muted">"I can understand (what I am hearing)." (I "listen-get-understand")</small>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="‰Ω†ÁúãÂæóË¶ãÂóé">‰Ω†ÁúãÂæóË¶ãÂóéÔºü</span> (<span class="pinyin">n«ê k√†n de ji√†n ma?</span>)
                                    <br><small class="ml-4 text-muted">"Can you see it?" (Are you "look-get-perceive"?)</small></li>
                                
                                <li><strong>Can't (Negative):</strong> <code class="pinyin">Verb + ‰∏ç (b√π) + Complement</code>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëËÅΩ‰∏çÊáÇ">ÊàëËÅΩ‰∏çÊáÇ</span> (<span class="pinyin">w«í tƒ´ng b√π d«íng</span>)
                                    <br><small class="ml-4 text-muted">"I can't understand (what I am hearing)." (I "listen-not-understand")</small>
                                    <br><strong class="ml-4">Ex:</strong> <span class="hanzi" data-speak="ÊàëÁúã‰∏çË¶ã">ÊàëÁúã‰∏çË¶ã</span> (<span class="pinyin">w«í k√†n b√π ji√†n</span>)
                                    <br><small class="ml-4 text-muted">"I can't see it." (I "look-not-perceive")</small></li>
                                
                                <li><strong>Note:</strong> The most common potential form you'll hear is <span class="hanzi" data-speak="ËÅΩ‰∏çÊáÇ">ËÅΩ‰∏çÊáÇ</span> (<span class="pinyin">tƒ´ng b√π d«íng</span>) - "I don't understand."</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson16"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson17"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson18"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson18">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 18: Directional Complements (ÊñπÂêëË£úË™û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Directional Complements are a special type of result complement. They are verbs that attach to *other verbs* to show the direction of the action. The two most important are <span class="hanzi" data-speak="‰æÜ">‰æÜ</span> (<span class="pinyin">l√°i</span>) "come" and <span class="hanzi" data-speak="Âéª">Âéª</span> (<span class="pinyin">q√π</span>) "go".</p>
                        <p class="mb-5 text-muted leading-relaxed">The rule is simple: use <span class="hanzi" data-speak="‰æÜ">‰æÜ</span> (<span class="pinyin">l√°i</span>) if the action moves **towards** the speaker. Use <span class="hanzi" data-speak="Âéª">Âéª</span> (<span class="pinyin">q√π</span>) if the action moves **away** from the speaker.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Simple Directional Complements (Verb + ‰æÜ/Âéª)</h4>
                        <p class="mb-4 text-muted">You combine a verb of motion (like `up`, `down`, `in`, `out`) with `‰æÜ` or `Âéª`.</p>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Verb (Trad.)</th>
                                        <th>Pinyin</th>
                                        <th>Meaning</th>
                                        <th>+ ‰æÜ (l√°i) - Towards Speaker</th>
                                        <th>+ Âéª (q√π) - Away from Speaker</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="hanzi" data-speak="‰∏ä">‰∏ä</span></td>
                                        <td><span class="pinyin">sh√†ng</span></td>
                                        <td>up</td>
                                        <td><span class="hanzi" data-speak="‰∏ä‰æÜ">‰∏ä‰æÜ</span> (come up)</td>
                                        <td><span class="hanzi" data-speak="‰∏äÂéª">‰∏äÂéª</span> (go up)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="‰∏ã">‰∏ã</span></td>
                                        <td><span class="pinyin">xi√†</span></td>
                                        <td>down</td>
                                        <td><span class="hanzi" data-speak="‰∏ã‰æÜ">‰∏ã‰æÜ</span> (come down)</td>
                                        <td><span class="hanzi" data-speak="‰∏ãÂéª">‰∏ãÂéª</span> (go down)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÈÄ≤">ÈÄ≤</span></td>
                                        <td><span class="pinyin">j√¨n</span></td>
                                        <td>in</td>
                                        <td><span class="hanzi" data-speak="ÈÄ≤‰æÜ">ÈÄ≤‰æÜ</span> (come in)</td>
                                        <td><span class="hanzi" data-speak="ÈÄ≤Âéª">ÈÄ≤Âéª</span> (go in)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Âá∫">Âá∫</span></td>
                                        <td><span class="pinyin">ch≈´</span></td>
                                        <td>out</td>
                                        <td><span class="hanzi" data-speak="Âá∫‰æÜ">Âá∫‰æÜ</span> (come out)</td>
                                        <td><span class="hanzi" data-speak="Âá∫Âéª">Âá∫Âéª</span> (go out)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Âõû">Âõû</span></td>
                                        <td><span class="pinyin">hu√≠</span></td>
                                        <td>return</td>
                                        <td><span class="hanzi" data-speak="Âõû‰æÜ">Âõû‰æÜ</span> (come back)</td>
                                        <td><span class="hanzi" data-speak="ÂõûÂéª">ÂõûÂéª</span> (go back)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÈÅé">ÈÅé</span></td>
                                        <td><span class="pinyin">gu√≤</span></td>
                                        <td>over</td>
                                        <td><span class="hanzi" data-speak="ÈÅé‰æÜ">ÈÅé‰æÜ</span> (come over)</td>
                                        <td><span class="hanzi" data-speak="ÈÅéÂéª">ÈÅéÂéª</span> (go over)</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Ëµ∑">Ëµ∑</span></td>
                                        <td><span class="pinyin">q«ê</span></td>
                                        <td>up</td>
                                        <td><span class="hanzi" data-speak="Ëµ∑‰æÜ">Ëµ∑‰æÜ</span> (get up)</td>
                                        <td>(not used)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Object Placement (Very Important)</h4>
                        <p class="mb-4 text-muted">Where you put the noun (object) is tricky. There are two rules.</p>
                        <p class="mb-4 text-sm font-semibold text-slate-700">Rule 1: If the object is a **Location**, it MUST go *between* the Verb and ‰æÜ/Âéª.</p>
                        <ul class="space-y-4">
                            <li><strong>He went upstairs:</strong> <span class="hanzi" data-speak="‰ªñ‰∏äÊ®ìÂéª‰∫Ü">‰ªñ‰∏äÊ®ìÂéª‰∫Ü„ÄÇ</span> (<span class="pinyin">TƒÅ sh√†ng l√≥u q√π le.</span>)
                                <br><small class="text-muted">Verb: `‰∏ä` (sh√†ng), Object: `Ê®ì` (l√≥u), Direction: `Âéª` (q√π). **Cannot be** `‰ªñ‰∏äÂéªÊ®ì‰∫Ü`.</small></li>
                            <li><strong>Please come back home:</strong> <span class="hanzi" data-speak="Ë´ã‰Ω†ÂõûÂÆ∂‰æÜ">Ë´ã‰Ω†ÂõûÂÆ∂‰æÜ„ÄÇ</span> (<span class="pinyin">Q«êng n«ê hu√≠ jiƒÅ l√°i.</span>)
                                <br><small class="text-muted">Verb: `Âõû` (hu√≠), Object: `ÂÆ∂` (jiƒÅ), Direction: `‰æÜ` (l√°i). **Cannot be** `Ë´ã‰Ω†Âõû‰æÜÂÆ∂`.</small></li>
                        </ul>
                        
                        <p class="mb-4 mt-6 text-sm font-semibold text-slate-700">Rule 2: If the object is a **normal noun** (a thing), it can go *before* OR *after* ‰æÜ/Âéª.</p>
                        <ul class="space-y-4">
                            <li><strong>He brought a book (over here):</strong>
                                <br><small class="text-muted">Option 1 (Common): <span class="hanzi" data-speak="‰ªñÂ∏∂‰∫Ü‰∏ÄÊú¨Êõ∏‰æÜ">‰ªñÂ∏∂‰∫Ü‰∏ÄÊú¨Êõ∏‰æÜ„ÄÇ</span> (<span class="pinyin">TƒÅ d√†i le y√¨ bƒõn sh≈´ l√°i.</span>)</small>
                                <br><small class="text-muted">Option 2 (Also correct): <span class="hanzi" data-speak="‰ªñÂ∏∂‰æÜ‰∫Ü‰∏ÄÊú¨Êõ∏">‰ªñÂ∏∂‰æÜ‰∫Ü‰∏ÄÊú¨Êõ∏„ÄÇ</span> (<span class="pinyin">TƒÅ d√†i l√°i le y√¨ bƒõn sh≈´.</span>)</small></li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">More Extra Contents: Abstract Meanings</h5>
                            <p class="text-sm mb-3">The real power of directional complements is their *abstract* or *metaphorical* use. They add shades of meaning to verbs that are not about physical direction.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><span class="pinyin">Ëµ∑‰æÜ (q«êl√°i)</span>:
                                    <br>1. **To begin an action:** <span class="hanzi" data-speak="‰ªñÂÄëÂî±Ëµ∑‰æÜ‰∫Ü">‰ªñÂÄëÂî±Ëµ∑‰æÜ‰∫Ü„ÄÇ</span> (<span class="pinyin">TƒÅmen ch√†ng q«êl√°i le.</span>) "They started to sing."
                                    <br>2. **To recall:** <span class="hanzi" data-speak="ÊàëÊÉ≥Ëµ∑‰æÜ‰∫Ü">ÊàëÊÉ≥Ëµ∑‰æÜ‰∫ÜÔºÅ</span> (<span class="pinyin">W«í xi«éng q«êl√°i le!</span>) "I remember now!"
                                    <br>3. **"When it comes to..." / "Seems...":** <span class="hanzi" data-speak="ÈÄôÁúãËµ∑‰æÜÂæàÂ•ΩÂêÉ">ÈÄôÁúãËµ∑‰æÜÂæàÂ•ΩÂêÉ„ÄÇ</span> (<span class="pinyin">Zh√® k√†n q«êl√°i hƒõn h«éochƒ´.</span>) "This looks delicious." (Also: `ËÅΩËµ∑‰æÜ` tƒ´ng q«êl√°i - sounds like, `ÂêÉËµ∑‰æÜ` chƒ´ q«êl√°i - tastes like).</li>
                                
                                <li><span class="pinyin">‰∏ãÂéª (xi√†q√π)</span>:
                                    <br>1. **Continuation into the future:** <span class="hanzi" data-speak="Ë´ã‰Ω†Ë™™‰∏ãÂéª">Ë´ã‰Ω†Ë™™‰∏ãÂéª„ÄÇ</span> (<span class="pinyin">Q«êng n«ê shu≈ç xi√†q√π.</span>) "Please continue speaking."
                                    <br>2. <span class="hanzi" data-speak="‰Ω†‰∏çËÉΩÂÜçÈÄôÊ®£ÂÅö‰∏ãÂéª‰∫Ü">‰Ω†‰∏çËÉΩÂÜçÈÄôÊ®£ÂÅö‰∏ãÂéª‰∫Ü„ÄÇ</span> (<span class="pinyin">N«ê b√πn√©ng z√†i zh√®y√†ng zu√≤ xi√†q√π le.</span>) "You can't keep doing it like this."</li>
                                
                                <li><span class="pinyin">‰∏ã‰æÜ (xi√†l√°i)</span>:
                                    <br>1. **To stop or settle:** <span class="hanzi" data-speak="ËªäÂÅú‰∏ã‰æÜ‰∫Ü">ËªäÂÅú‰∏ã‰æÜ‰∫Ü„ÄÇ</span> (<span class="pinyin">Chƒì t√≠ng xi√†l√°i le.</span>) "The car stopped."
                                    <br>2. **To hand down (past to present):** <span class="hanzi" data-speak="ÈÄôÊòØÁ•ñÂÖàÂÇ≥‰∏ã‰æÜÁöÑ">ÈÄôÊòØÁ•ñÂÖàÂÇ≥‰∏ã‰æÜÁöÑ„ÄÇ</span> (<span class="pinyin">Zh√® sh√¨ z«îxiƒÅn chu√°n xi√†l√°i de.</span>) "This was passed down from our ancestors."</li>

                                <li><span class="pinyin">Âá∫‰æÜ (ch≈´l√°i)</span>:
                                    <br>1. **To reveal or produce (from hidden to visible):** <span class="hanzi" data-speak="ÊàëÊÉ≥Âá∫‰∏ÄÂÄãËæ¶Ê≥ï‰∫Ü">ÊàëÊÉ≥Âá∫‰∏ÄÂÄãËæ¶Ê≥ï‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í xi«éng ch≈´ y√≠ ge b√†nf«é le.</span>) "I thought of a solution."
                                    <br>2. **To recognize:** <span class="hanzi" data-speak="ÊàëË™çÂá∫‰ªñ‰∫Ü">ÊàëË™çÂá∫‰ªñ‰∫Ü„ÄÇ</span> (<span class="pinyin">W«í r√®n ch≈´ tƒÅ le.</span>) "I recognized him."</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson17"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson18"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson19"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson19">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 19: Hobbies & Social (ËààË∂£ÊÑõÂ•ΩËàáÁ§æ‰∫§)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Learning to talk about your hobbies and make plans is a great way to connect with people. This lesson covers key vocabulary and phrases for socializing in Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Asking About Hobbies (ÂïèÊÑõÂ•Ω)</h4>
                        <ul class="space-y-4">
                            <li><strong>Formal Q: What are your hobbies?:</strong> <span class="hanzi" data-speak="‰Ω†Êúâ‰ªÄÈ∫ºÊÑõÂ•Ω">‰Ω†Êúâ‰ªÄÈ∫ºÊÑõÂ•ΩÔºü</span> (<span class="pinyin">N«ê y«íu sh√©nme √†ih√†o?</span>)
                                <br><small class="text-muted">"You have what hobbies?"</small></li>
                            <li><strong>Formal A: My hobby is...:</strong> <span class="hanzi" data-speak="ÊàëÁöÑÊÑõÂ•ΩÊòØ">ÊàëÁöÑÊÑõÂ•ΩÊòØ...</span> (<span class="pinyin">W«í de √†ih√†o sh√¨...</span>)
                                <br><small class="text-muted">e.g., <span class="hanzi" data-speak="ÊàëÁöÑÊÑõÂ•ΩÊòØÁúãÊõ∏">ÊàëÁöÑÊÑõÂ•ΩÊòØÁúãÊõ∏</span> (My hobby is reading).</small></li>
                            <li><strong>Common Q: What do you like to do?:</strong> <span class="hanzi" data-speak="‰Ω†ÂñúÊ≠°ÂÅö‰ªÄÈ∫º">‰Ω†ÂñúÊ≠°ÂÅö‰ªÄÈ∫ºÔºü</span> (<span class="pinyin">N«ê x«êhuan zu√≤ sh√©nme?</span>)</li>
                            <li><strong>Common A: I like...:</strong> <span class="hanzi" data-speak="ÊàëÂñúÊ≠°">ÊàëÂñúÊ≠°...</span> (<span class="pinyin">W«í x«êhuan...</span>)
                                <br><small class="text-muted">e.g., <span class="hanzi" data-speak="ÊàëÂñúÊ≠°ÁúãÈõªÂΩ±">ÊàëÂñúÊ≠°ÁúãÈõªÂΩ±</span> (I like to watch movies).</small></li>
                        </ul>

                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: ÊÑõÂ•Ω (√†ih√†o) vs. ÂñúÊ≠° (x«êhuan)</h5>
                            <p class="text-sm mb-3"><span class="hanzi" data-speak="ÊÑõÂ•Ω">ÊÑõÂ•Ω</span> (<span class="pinyin">√†ih√†o</span>) is a noun ("a hobby"). It's a bit formal, like something you'd write on a form. <span class="hanzi" data-speak="ÂñúÊ≠°">ÂñúÊ≠°</span> (<span class="pinyin">x«êhuan</span>) is a verb ("to like"). In daily conversation, it's much more natural to ask what someone *likes to do* (<span class="hanzi" data-speak="ÂñúÊ≠°ÂÅö‰ªÄÈ∫º">ÂñúÊ≠°ÂÅö‰ªÄÈ∫º</span>) than what their *hobbies are* (<span class="hanzi" data-speak="Êúâ‰ªÄÈ∫ºÊÑõÂ•Ω">Êúâ‰ªÄÈ∫ºÊÑõÂ•Ω</span>).</p>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Common Hobbies (Â∏∏Ë¶ãÁöÑÊÑõÂ•Ω)</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead><tr><th>English</th><th>Traditional Chinese</th><th>Pinyin</th></tr></thead>
                                <tbody>
                                    <tr><td>Reading</td><td><span class="hanzi" data-speak="ÁúãÊõ∏">ÁúãÊõ∏</span></td><td><span class="pinyin">k√†nsh≈´</span> (Lit: "read book")</td></tr>
                                    <tr><td>Watching movies</td><td><span class="hanzi" data-speak="ÁúãÈõªÂΩ±">ÁúãÈõªÂΩ±</span></td><td><span class="pinyin">k√†n di√†ny«êng</span> (Lit: "watch movie")</td></tr>
                                    <tr><td>Listening to music</td><td><span class="hanzi" data-speak="ËÅΩÈü≥Ê®Ç">ËÅΩÈü≥Ê®Ç</span></td><td><span class="pinyin">tƒ´ng yƒ´nyu√®</span> (Lit: "listen music")</td></tr>
                                    <tr><td>Exercise / Sports</td><td><span class="hanzi" data-speak="ÈÅãÂãï">ÈÅãÂãï</span></td><td><span class="pinyin">y√πnd√≤ng</span></td></tr>
                                    <tr><td>Traveling</td><td><span class="hanzi" data-speak="ÊóÖË°å">ÊóÖË°å</span></td><td><span class="pinyin">l«öx√≠ng</span></td></tr>
                                    <tr><td>Playing (video) games</td><td><span class="hanzi" data-speak="Áé©ÈÅäÊà≤">Áé©ÈÅäÊà≤</span> / <span class="hanzi" data-speak="Áé©ÈõªÂãï">Áé©ÈõªÂãï</span></td><td><span class="pinyin">w√°n y√≥ux√¨ / w√°n di√†nd√≤ng</span></td></tr>
                                    <tr><td>Shopping</td><td><span class="hanzi" data-speak="ÈÄõË°ó">ÈÄõË°ó</span></td><td><span class="pinyin">gu√†ngjiƒì</span> (Lit: "stroll street")</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Making Plans & Social Phrases</h4>
                        <ul class="space-y-4">
                            <li><strong>Are you free (this weekend)?:</strong> <span class="hanzi" data-speak="‰Ω†ÈÄôÂÄãÈÄ±Êú´ÊúâÁ©∫Âóé">‰Ω†(ÈÄôÂÄãÈÄ±Êú´)ÊúâÁ©∫ÂóéÔºü</span> (<span class="pinyin">N«ê (zh√®ge zh≈çum√≤) y«íu k√≤ng ma?</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="Á©∫">Á©∫</span> (<span class="pinyin">k√≤ng</span>) means "free time" or "emptiness".</small></li>
                            <li><strong>I'd like to invite you to (e.g., dinner):</strong> <span class="hanzi" data-speak="ÊàëÊÉ≥Ë´ã‰Ω†ÂêÉÈ£Ø">ÊàëÊÉ≥Ë´ã‰Ω†ÂêÉÈ£Ø„ÄÇ</span> (<span class="pinyin">W«í xi«éng q«êng n«ê chƒ´f√†n.</span>)</li>
                            <li><strong>How about we go see a movie?:</strong> <span class="hanzi" data-speak="ÊàëÂÄëÂéªÁúãÈõªÂΩ±ÔºåÂ•ΩÂóé">ÊàëÂÄëÂéªÁúãÈõªÂΩ±ÔºåÂ•ΩÂóéÔºü</span> (<span class="pinyin">W«ímen q√π k√†n di√†ny«êng, h«éo ma?</span>)
                                <br><small class="text-muted">A common pattern: `[Proposal], Â•ΩÂóé?` (h«éo ma? - okay?)</small></li>
                            <li><strong>When?:</strong> <span class="hanzi" data-speak="‰ªÄÈ∫ºÊôÇÂÄô">‰ªÄÈ∫ºÊôÇÂÄôÔºü</span> (<span class="pinyin">Sh√©nme sh√≠hou?</span>)</li>
                            <li><strong>Okay / Sure:</strong> <span class="hanzi" data-speak="Â•ΩÂïä">Â•ΩÂïä</span> (<span class="pinyin">H«éo a!</span>) (The `a` particle makes it enthusiastic.)</li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">Extra: The Culture of Ë´ãÂÆ¢ (q«êngk√®) - "To Treat"</h5>
                            <p class="text-sm mb-3">The verb <span class="hanzi" data-speak="Ë´ã">Ë´ã</span> (<span class="pinyin">q«êng</span>) is very important. It means "to invite," but in the context of a meal or activity, it almost always implies **"to treat" (to pay for)**.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li>If someone says <span class="hanzi" data-speak="ÊàëË´ã‰Ω†ÂêÉÈ£Ø">ÊàëË´ã‰Ω†ÂêÉÈ£Ø</span> (<span class="pinyin">w«í q«êng n«ê chƒ´f√†n</span>), they are offering to pay for your meal.</li>
                                <li>The noun for this is <span class="hanzi" data-speak="Ë´ãÂÆ¢">Ë´ãÂÆ¢</span> (<span class="pinyin">q«êngk√®</span>) - "to host" or "to treat".</li>
                                <li><strong>My treat today!:</strong> <span class="hanzi" data-speak="‰ªäÂ§©ÊàëË´ãÂÆ¢">‰ªäÂ§©ÊàëË´ãÂÆ¢ÔºÅ</span> (<span class="pinyin">Jƒ´ntiƒÅn w«í q«êngk√®!</span>)</li>
                                <li><strong>Who is paying?:</strong> <span class="hanzi" data-speak="Ë™∞Ë´ãÂÆ¢">Ë™∞Ë´ãÂÆ¢Ôºü</span> (<span class="pinyin">Sh√©i q«êngk√®?</span>)</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson18"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson19"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson20"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson20">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 20: Ordering Food (ÈªûÈ§ê)</h3>
                        <p class="mb-5 text-muted leading-relaxed">This is one of the most practical and fun skills to learn. This lesson covers how to get a table, order, ask for the bill, and useful phrases for eating out. All examples use Traditional Chinese.</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Part 1: Getting a Table (ÂÖ•Â∫ß)</h4>
                        <ul class="space-y-4">
                            <li><strong>(At the door) How many people?:</strong> <span class="hanzi" data-speak="Ë´ãÂïèÂπæ‰Ωç">Ë´ãÂïèÂπæ‰ΩçÔºü</span> (<span class="pinyin">Q«êngw√®n j«ê w√®i?</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="‰Ωç">‰Ωç</span> (<span class="pinyin">w√®i</span>) is the polite measure word for people.</small></li>
                            <li><strong>Two people:</strong> <span class="hanzi" data-speak="ÂÖ©‰Ωç">ÂÖ©‰Ωç</span> (<span class="pinyin">li«éng w√®i</span>)</li>
                            <li><strong>Do you have a reservation?:</strong> <span class="hanzi" data-speak="ÊúâË®Ç‰ΩçÂóé">ÊúâË®Ç‰ΩçÂóéÔºü</span> (<span class="pinyin">Y«íu d√¨ngw√®i ma?</span>)</li>
                            <li><strong>Please sit here:</strong> <span class="hanzi" data-speak="Ë´ãÂùêÈÄôË£°">Ë´ãÂùêÈÄôË£°</span> (<span class="pinyin">Q«êng zu√≤ zh√®l«ê</span>)</li>
                        </ul>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Part 2: Ordering (ÈªûÈ§ê)</h4>
                        <ul class="space-y-4">
                            <li><strong>We'd like to order:</strong> <span class="hanzi" data-speak="ÊàëÂÄëË¶ÅÈªûÈ§ê">ÊàëÂÄëË¶ÅÈªûÈ§ê</span> (<span class="pinyin">W«ímen y√†o di«éncƒÅn</span>)</li>
                            <li><strong>Menu, please:</strong> <span class="hanzi" data-speak="Ë´ãÁµ¶ÊàëËèúÂñÆ">Ë´ãÁµ¶ÊàëËèúÂñÆ</span> (<span class="pinyin">Q«êng gƒõi w«í c√†idƒÅn</span>)</li>
                            <li><strong>What's your specialty?:</strong> <span class="hanzi" data-speak="‰Ω†ÂÄëÁöÑÊãõÁâåËèúÊòØ‰ªÄÈ∫º">‰Ω†ÂÄëÁöÑÊãõÁâåËèúÊòØ‰ªÄÈ∫ºÔºü</span> (<span class="pinyin">N«êmen de zhƒÅop√°i c√†i sh√¨ sh√©nme?</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="ÊãõÁâåËèú">ÊãõÁâåËèú</span> (<span class="pinyin">zhƒÅop√°i c√†i</span>) = "signboard dish" / specialty.</small></li>
                            <li><strong>I want this one:</strong> <span class="hanzi" data-speak="ÊàëË¶ÅÈÄôÂÄã">ÊàëË¶ÅÈÄôÂÄã</span> (<span class="pinyin">W«í y√†o zh√®ge</span>)</li>
                            <li><strong>I want one bowl of beef noodles:</strong> <span class="hanzi" data-speak="ÊàëË¶Å‰∏ÄÁ¢óÁâõËÇâÈ∫µ">ÊàëË¶Å‰∏ÄÁ¢óÁâõËÇâÈ∫µ</span> (<span class="pinyin">W«í y√†o y√¨ w«én ni√∫r√≤u mi√†n</span>)</li>
                            <li><strong>Spicy / Not spicy:</strong> <span class="hanzi" data-speak="Ë¶ÅËæ£">Ë¶ÅËæ£</span> / <span class="hanzi" data-speak="‰∏çË¶ÅËæ£">‰∏çË¶ÅËæ£</span> (<span class="pinyin">y√†o l√† / b√∫ y√†o l√†</span>)</li>
                        </ul>
                        
                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Extra: Common Food Vocabulary</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead><tr><th>English</th><th>Traditional Chinese</th><th>Pinyin</th></tr></thead>
                                <tbody>
                                    <tr><td>Beef</td><td><span class="hanzi" data-speak="ÁâõËÇâ">ÁâõËÇâ</span></td><td><span class="pinyin">ni√∫r√≤u</span></td></tr>
                                    <tr><td>Pork</td><td><span class="hanzi" data-speak="Ë±¨ËÇâ">Ë±¨ËÇâ</span></td><td><span class="pinyin">zh≈´r√≤u</span></td></tr>
                                    <tr><td>Chicken</td><td><span class="hanzi" data-speak="ÈõûËÇâ">ÈõûËÇâ</span></td><td><span class="pinyin">jƒ´r√≤u</span></td></tr>
                                    <tr><td>Fish</td><td><span class="hanzi" data-speak="È≠ö">È≠ö</span></td><td><span class="pinyin">y√∫</span></td></tr>
                                    <tr><td>Vegetables</td><td><span class_ ="hanzi" data-speak="Ëî¨Ëèú">Ëî¨Ëèú</span></td><td><span class="pinyin">sh≈´c√†i</span></td></tr>
                                    <tr><td>Rice</td><td><span class="hanzi" data-speak="È£Ø">È£Ø</span></td><td><span class="pinyin">f√†n</span></td></tr>
                                    <tr><td>Noodles</td><td><span class="hanzi" data-speak="È∫µ">È∫µ</span></td><td><span class="pinyin">mi√†n</span></td></tr>
                                    <tr><td>Soup</td><td><span class="hanzi" data-speak="ÊπØ">ÊπØ</span></td><td><span class="pinyin">tƒÅng</span></td></tr>
                                    <tr><td>Bubble Tea</td><td><span class="hanzi" data-speak="ÁèçÁè†Â•∂Ëå∂">ÁèçÁè†Â•∂Ëå∂</span></td><td><span class="pinyin">zhƒìnzh≈´ n«éich√°</span> (boba milk tea)</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Part 3: Paying the Bill (ÁµêÂ∏≥)</h4>
                        <ul class="space-y-4">
                            <li><strong>Check, please!:</strong> <span class="hanzi" data-speak="ÁµêÂ∏≥">ÁµêÂ∏≥ÔºÅ</span> (<span class="pinyin">Ji√©zh√†ng!</span>) or <span class="hanzi" data-speak="Ë≤∑ÂñÆ">Ë≤∑ÂñÆÔºÅ</span> (<span class="pinyin">M«éidƒÅn!</span>)
                                <br><small class="text-muted">(You can say this to the staff from your table or go to the counter).</small></li>
                            <li><strong>Total is how much money?:</strong> <span class="hanzi" data-speak="Á∏ΩÂÖ±Â§öÂ∞ëÈå¢">Á∏ΩÂÖ±Â§öÂ∞ëÈå¢Ôºü</span> (<span class="pinyin">Z«íngg√≤ng du≈çshao qi√°n?</span>)</li>
                            <li><strong>Can I use a credit card?:</strong> <span class="hanzi" data-speak="ÂèØ‰ª•Âà∑Âç°Âóé">ÂèØ‰ª•Âà∑Âç°ÂóéÔºü</span> (<span class="pinyin">Kƒõy«ê shuƒÅk«é ma?</span>)
                                <br><small class="text-muted"><span class="hanzi" data-speak="Âà∑Âç°">Âà∑Âç°</span> (<span class="pinyin">shuƒÅk«é</span>) = to swipe card.</small></li>
                            <li><strong>We only accept cash:</strong> <span class="hanzi" data-speak="Âè™Êî∂ÁèæÈáë">Âè™Êî∂ÁèæÈáë</span> (<span class="pinyin">Zh«ê sh≈çu xi√†njƒ´n</span>)</li>
                        </ul>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">More Extra Contents: ÂÖßÁî® (n√®iy√≤ng) or Â§ñÂ∏∂ (w√†id√†i)?</h5>
                            <p class="text-sm mb-3">This is the most common question you'll be asked at any casual eatery or drink shop: "For here or to go?"</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>The Question:</strong> <span class="hanzi" data-speak="ÂÖßÁî®ÈÇÑÊòØÂ§ñÂ∏∂">ÂÖßÁî®ÈÇÑÊòØÂ§ñÂ∏∂Ôºü</span> (<span class="pinyin">N√®iy√≤ng h√°ish√¨ w√†id√†i?</span>)
                                    <br><small class="ml-4 text-muted">"For here or to go?" (<span class="hanzi" data-speak="ÈÇÑÊòØ">ÈÇÑÊòØ</span> means "or" in questions)</small></li>
                                <li><strong>Answer (For here):</strong> <span class="hanzi" data-speak="ÂÖßÁî®">ÂÖßÁî®</span> (<span class="pinyin">n√®iy√≤ng</span>) (Lit: "inside use")</li>
                                <li><strong>Answer (To go):</strong> <span class="hanzi" data-speak="Â§ñÂ∏∂">Â§ñÂ∏∂</span> (<span class="pinyin">w√†id√†i</span>) (Lit: "outside carry")</li>
                                <li class="mt-2"><strong>To get leftovers packed up (Doggy bag):</strong>
                                    <br><strong class="ml-4">"I want to pack this up":</strong> <span class="hanzi" data-speak="ÊàëË¶ÅÊâìÂåÖ">ÊàëË¶ÅÊâìÂåÖ</span> (<span class="pinyin">W«í y√†o d«ébƒÅo</span>)</li>
                            </ul>
                        </div>

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson19"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson20"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson21"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson21">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 21: Modern Tech & Slang (Á∂≤Ë∑ØÁßëÊäÄËàáÊµÅË°åË™û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Language is always evolving, especially online. This lesson covers essential words for technology and some popular slang you'll see in text messages and on social media in Taiwan. (All Traditional Chinese).</p>

                        <h4 class="font-semibold mt-6 mb-3 text-lg text-slate-700">Essential Tech Vocabulary (ÁßëÊäÄË©ûÂΩô)</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead><tr><th>English</th><th>Traditional Chinese</th><th>Pinyin</th><th>Notes</th></tr></thead>
                                <tbody>
                                    <tr>
                                        <td>Computer</td>
                                        <td><span class="hanzi" data-speak="ÈõªËÖ¶">ÈõªËÖ¶</span></td>
                                        <td><span class="pinyin">di√†nn«éo</span></td>
                                        <td>Lit. "electric brain"</td>
                                    </tr>
                                    <tr>
                                        <td>Mobile Phone</td>
                                        <td><span class="hanzi" data-speak="ÊâãÊ©ü">ÊâãÊ©ü</span></td>
                                        <td><span class="pinyin">sh«íujƒ´</span></td>
                                        <td>Lit. "hand machine"</td>
                                    </tr>
                                    <tr>
                                        <td>Internet</td>
                                        <td><span class="hanzi" data-speak="Á∂≤Ë∑Ø">Á∂≤Ë∑Ø</span></td>
                                        <td><span class="pinyin">w«éngl√π</span></td>
                                        <td>Lit. "net road"</td>
                                    </tr>
                                    <tr>
                                        <td>To go online</td>
                                        <td><span class="hanzi" data-speak="‰∏äÁ∂≤">‰∏äÁ∂≤</span></td>
                                        <td><span class="pinyin">sh√†ngw«éng</span></td>
                                        <td>Lit. "to get on the net"</td>
                                    </tr>
                                    <tr>
                                        <td>Wi-Fi</td>
                                        <td><span class="hanzi" data-speak="ÁÑ°Á∑öÁ∂≤Ë∑Ø">ÁÑ°Á∑öÁ∂≤Ë∑Ø</span></td>
                                        <td><span class="pinyin">w√∫xi√†n w«éngl√π</span></td>
                                        <td>Lit. "no-line net road" (Often just "Wi-Fi")</td>
                                    </tr>
                                    <tr>
                                        <td>Social Media</td>
                                        <td><span class="hanzi" data-speak="Á§æÁæ§Â™íÈ´î">Á§æÁæ§Â™íÈ´î</span></td>
                                        <td><span class="pinyin">sh√®q√∫n m√©it«ê</span></td>
                                        <td>(e.g., Facebook, Instagram)</td>
                                    </tr>
                                    <tr>
                                        <td>To send a text/message</td>
                                        <td><span class="hanzi" data-speak="ÂÇ≥Ë®äÊÅØ">ÂÇ≥Ë®äÊÅØ</span></td>
                                        <td><span class="pinyin">chu√°n x√πnx√≠</span></td>
                                        <td>(Also: <span class="hanzi" data-speak="ÂÇ≥ line">ÂÇ≥ Line</span> "to send a Line message")</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h4 class="font-semibold mt-8 mb-3 text-lg text-slate-700">Common Slang & Phrases (ÊµÅË°åË™û)</h4>
                        <div class="overflow-x-auto">
                            <table class="table">
                                <thead><tr><th>Slang (Trad.)</th><th>Pinyin</th><th>Meaning & Use</th></tr></thead>
                                <tbody>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÂÇªÁúº">ÂÇªÁúº</span></td>
                                        <td><span class="pinyin">sh«éy«én</span></td>
                                        <td>"Dumbfounded," "facepalm," "mind-boggling." Used when something ridiculous or unbelievable happens. (Lit: "dumbfounded eyes")</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="GG">GG</span></td>
                                        <td><span class="pinyin">jƒ´ jƒ´</span></td>
                                        <td>"It's over," "I'm screwed," "it's doomed." From "Good Game" in gaming. Used when you fail or something is hopeless.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="www">www</span></td>
                                        <td>(none)</td>
                                        <td>Represents laughter. From the Japanese `warau` (Á¨ë„ÅÜ - to laugh). The more 'w's, the harder the laughter. (e.g., `www`, `wwwww`).</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÈÑâÊ∞ë">ÈÑâÊ∞ë</span></td>
                                        <td><span class="pinyin">xiƒÅngm√≠n</span></td>
                                        <td>"Netizen," "internet user," "people of the internet." Often refers to users on forums like PTT (a popular Taiwanese forum). (Lit: "villager")</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="Â§™ÊâØ‰∫Ü">Â§™ÊâØ‰∫Ü</span></td>
                                        <td><span class="pinyin">t√†i chƒõ le</span></td>
                                        <td>"That's outrageous!" "So ridiculous!" "Unbelievable!" (Lit: "too pulling")</td>
                                    </tr>
                                    <tr>
                                        <td><span class="hanzi" data-speak="ÊØçÊπØÂñî">ÊØçÊπØÂñî</span></td>
                                        <td><span class="pinyin">m«î tƒÅng o</span></td>
                                        <td>"Don't do that!" / "That's not good!" A funny, slangy way to say <span class="hanzi" data-speak="‰∏çË°å">‰∏çË°å</span> or <span class="hanzi" data-speak="‰∏çË¶Å">‰∏çË¶Å</span>, from a Taiwanese pronunciation.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="callout p-4 mt-8">
                            <h5 class="font-bold mb-2">More Extra Contents: Slang Explained</h5>
                            <p class="text-sm mb-3">Here's a deeper look at the most common slang you'll encounter.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>What is `www`?:</strong> In English, `lol` or `haha` is used for laughter. In Mandarin (especially in Taiwan, influenced by Japan), `www` is common. It comes from the Japanese word for laugh, <span class="hanzi">Á¨ë„ÅÜ</span> (<span class->warau</span>). So, <span class="hanzi" data-speak="ÈÄôÂ§™Â•ΩÁ¨ë‰∫Üwww">ÈÄôÂ§™Â•ΩÁ¨ë‰∫Üwww</span> (<span class="pinyin">zh√® t√†i h«éoxi√†o le www</span>) means "This is so funny lol."</li>
                                
                                <li><strong>How to use `GG` (jƒ´ jƒ´):</strong> This is used *all the time* when something bad is confirmed.
                                    <br><strong class="ml-4">Ex 1:</strong> "I forgot my wallet." (ÊàëÂøò‰∫ÜÂ∏∂Èå¢ÂåÖ / <span class="pinyin">w«í w√†ng le d√†i qi√°nbƒÅo</span>) "GG, you can't buy lunch." (GG‰∫ÜÔºå‰Ω†‰∏çËÉΩË≤∑ÂçàÈ§ê‰∫Ü / <span class="pinyin">GG le, n«ê b√πn√©ng m«éi w«îcƒÅn le</span>).
                                    <br><strong class="ml-4">Ex 2:</strong> "Oh no, it's raining and I don't have an umbrella." (‰∏ãÈõ®‰∫ÜÔºåÊàëÊ≤íÊúâÂÇò / <span class="pinyin">xi√† y«î le, w«í m√©iy«íu s«én</span>). "GG".</li>

                                <li><strong>How to use `ÂÇªÁúº (sh«éy«én)`:</strong> Use this when you are shocked, speechless, or dumbfounded by a situation.
                                    <br><strong class="ml-4">Ex:</strong> "He spent his entire salary on a video game." (‰ªñÊääËñ™Ê∞¥ÈÉΩËä±Âú®ÈÅäÊà≤‰∏ä‰∫Ü / <span class="pinyin">tƒÅ b«é xƒ´nshu«ê d≈çu huƒÅ z√†i y√≥ux√¨ sh√†ng le</span>).
                                    <br><strong class="ml-4">Your reply:</strong> <span class="hanzi" data-speak="ÂÇªÁúº">ÂÇªÁúº...</span> (<span class="pinyin">sh«éy«én...</span>) - "I'm speechless..." / "That's insane."</li>
                            </ul>
                        </div>

                        <!-- NEW CALLOUT SECTION -->
                        <div class="callout p-4 mt-6"> <!-- Added mt-6 for spacing -->
                            <h5 class="font-bold mb-2">Even More Extra Contents: Useful Phrases & Concepts</h5>
                            <p class="text-sm mb-3">Here are a few more terms you might encounter online or in casual conversation.</p>
                            <ul class="list-disc list-inside mt-2 text-sm space-y-3">
                                <li><strong>To Google something:</strong> <span class="hanzi" data-speak="‰º∞Áãó">‰º∞Áãó</span> (<span class="pinyin">g≈´g«íu</span>)
                                    <br><small class="ml-4 text-muted">A direct transliteration of "Google." Ex: <span class="hanzi" data-speak="Êàë‰º∞Áãó‰∏Ä‰∏ã">Êàë‰º∞Áãó‰∏Ä‰∏ã</span> (<span class="pinyin">W«í g≈´g«íu y√≠xi√†</span>) - "Let me Google it quickly."</small></li>
                                
                                <li><strong>Influencer / KOL (Key Opinion Leader):</strong> <span class="hanzi" data-speak="Á∂≤Á¥Ö">Á∂≤Á¥Ö</span> (<span class="pinyin">w«éngh√≥ng</span>)
                                    <br><small class="ml-4 text-muted">Lit. "net red." Someone famous on the internet.</small></li>

                                <li><strong>To Like (on social media):</strong> <span class="hanzi" data-speak="ÊåâËÆö">ÊåâËÆö</span> (<span class="pinyin">√†n z√†n</span>)
                                    <br><small class="ml-4 text-muted">Lit. "press praise." Ex: <span class="hanzi" data-speak="Âπ´ÊàëÊåâËÆö">Âπ´ÊàëÊåâËÆöÔºÅ</span> (<span class="pinyin">BƒÅng w«í √†n z√†n!</span>) - "Like my post!"</small></li>

                                <li><strong>"Feels bad man" / Sigh / Facepalm:</strong> <span class="hanzi" data-speak="Âì≠Âì≠">Âì≠Âì≠</span> (<span class="pinyin">k≈´k≈´</span>)
                                    <br><small class="ml-4 text-muted">Lit. "cry cry." Used often in text to express mild disappointment, sadness, or a sigh, often humorously. Sometimes written as `QQ`.</small></li>

                                <li><strong>"So annoying!":</strong> <span class="hanzi" data-speak="ÂæàÁÖ©Ê¨∏">ÂæàÁÖ©Ê¨∏ÔºÅ</span> (<span class="pinyin">Hƒõn f√°nÊ¨∏!</span>)
                                     <br><small class="ml-4 text-muted">The <span class="pinyin">Ê¨∏</span> (ei) is a common Taiwanese sentence particle adding emphasis or a slight tone of complaint/exasperation.</small></li>
                            </ul>
                        </div>
                        <!-- END NEW CALLOUT SECTION -->

                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson21"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson22"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="lesson23"><span>Next Lesson</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="lesson22">
                        <h3 class="card-title text-xl font-semibold mb-4">Lesson 23: Common Idioms (ÊàêË™û)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Content for this lesson is coming soon...</p>
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson22"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="lesson23"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter1"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                </section>
                <!-- END Level 3 -->

                <!-- NEW: Level 4 Placeholders -->
                <section id="level4" class="content-page-container">
                    <article class="content-page card p-6 mb-8" data-page-id="chapter1">
                        <h3 class="card-title text-xl font-semibold mb-4">Chapter 1: Mandarin Alphabets</h3>
                        <p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p>
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="lesson23"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Lesson</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter1"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter2"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter2">
                        <h3 class="card-title text-xl font-semibold mb-4">Chapter 2: Numbers (Detailed)</h3>
                        <p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p>
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter1"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter2"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter3"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter3">
                        <h3 class="card-title text-xl font-semibold mb-4">Chapter 3: Vegetables & Fruits</h3>
                        <p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p>
                        <div class="page-footer-nav">
                            <div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter2"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div>
                            <div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter3"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter4"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div>
                        </div>
                    </article>
                <!-- END NEW Placeholders -->

                    <!-- ... Other chapters ... -->
                    <article class="content-page card p-6 mb-8" data-page-id="chapter4"><h3 class="card-title text-xl font-semibold mb-4">Chapter 4: Daily Life Products</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter3"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter4"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter5"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter5"><h3 class="card-title text-xl font-semibold mb-4">Chapter 5: Family Conversations</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter4"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter5"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter6"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter6"><h3 class="card-title text-xl font-semibold mb-4">Chapter 6: Friend Conversations</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter5"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter6"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter7"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter7"><h3 class="card-title text-xl font-semibold mb-4">Chapter 7: Work Conversations</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter6"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter7"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter8"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter8"><h3 class="card-title text-xl font-semibold mb-4">Chapter 8: School & Business</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter7"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter8"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter9"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter9"><h3 class="card-title text-xl font-semibold mb-4">Chapter 9: Core Vocabulary</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter8"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter9"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><button class="next-page-btn" data-next-page-id="chapter10"><span>Next Chapter</span><svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg></button></div></div></article>
                    <article class="content-page card p-6 mb-8" data-page-id="chapter10"><h3 class="card-title text-xl font-semibold mb-4">Chapter 10: Test Yourself</h3><p class="mb-5 text-muted leading-relaxed">Content for this chapter is coming soon...</p><div class="page-footer-nav"><div class="flex gap-3"><button class="prev-page-btn" data-prev-page-id="chapter9"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"></path></svg><span>Previous Chapter</span></button><button class="home-page-btn" data-home-page-id="home"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6-4a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1v4a1 1 0 001 1h1z"></path></svg><span>Home</span></button></div><div class="flex gap-3"><button class="mark-complete-btn" data-page-id="chapter10"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Mark as Completed</span></button><!-- No next button on last page --></div></div></article>

                 </section>
                <!-- END Level 4 -->
                
                <!-- FOOTER -->
                <footer class="mt-16 pt-8 border-t border-slate-200 text-center text-slate-500 text-sm">
                    <p>&copy; 2025 brianhexer / Mandarin Guide. All rights reserved.</p>
                </footer>
                
            </div>
        </div>
    </main>

    <!-- SEARCH MODAL -->
    <div id="search-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4" aria-hidden="true">
        <!-- Modal Overlay -->
        <div id="search-modal-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"></div>
        
        <!-- Modal Content -->
        <div class="relative w-full max-w-lg p-0 bg-white rounded-lg shadow-xl transform transition-all overflow-hidden">
            <!-- Search Input -->
            <div class="relative p-4">
                 <input type="search" id="search-input" placeholder="Search lessons..." class="w-full pl-10 pr-12 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                 <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                 </div>
                 <button id="search-modal-close" aria-label="Close search" class="absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
                 </button>
            </div>
            
            <!-- Search Results -->
            <div id="search-results-container" class="max-h-96 overflow-y-auto p-4 border-t border-slate-200">
                <p class="text-center text-slate-500">Type to search for lessons.</p>
            </div>
        </div>
    </div>
    <!-- END SEARCH MODAL -->

    <!-- VERIFICATION MODAL (Unchanged) -->
    <div id="next-lesson-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4" aria-hidden="true">
        <!-- Modal Overlay -->
        <div id="modal-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"></div>
        
        <!-- Modal Content -->
        <div class="relative w-full max-w-md p-6 bg-white rounded-lg shadow-xl transform transition-all">
            <div class="flex items-start">
                <div class="flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10">
                    <svg class="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4 0 1.152-.468 2.185-1.22 2.963C13.978 14.63 13 15.21 13 16h-1v-1.5c0-1.076.62-2.062 1.62-2.887C14.43 10.843 15 10.106 15 9c0-1.105-.895-2-2-2-1.036 0-1.85.738-1.98 1.707L8.228 9zM12 20a1 1 0 100-2 1 1 0 000 2z"></path></svg>
                </div>
                <div class="ml-4 text-left">
                    <h3 class="text-lg font-semibold leading-6 text-gray-900" id="modal-title">Proceed to Next Lesson?</h3>
                    <div class="mt-2">
                        <p class="text-sm text-gray-500">
                            Are you sure you're ready to move on?
                        </p>
                    </div>
                </div>
            </div>

            <div class="flex items-center justify-center space-x-2 mt-4 pt-4 border-t border-gray-200">
                <span class="text-sm text-slate-600 hidden sm:inline">Connect with Admin &gt;&gt;&gt;</span> <!-- MODIFIED: Added hidden sm:inline -->
                
                <div class="w-8 h-8 rounded-full bg-slate-200 border border-slate-300 flex items-center justify-center overflow-hidden">
                     <img class="w-full h-full object-cover" 
                          src="./images/profile.jpg" 
                          alt="Brian's profile picture"
                          onerror="this.parentElement.innerHTML = `<svg class='w-6 h-6 text-slate-400' fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z' clip-rule='evenodd'></path></svg>`">
                </div>
        
                <a href="https://www.instagram.com/brian_offl/" target="_blank" rel="noopener noreferrer" class="insta-btn flex items-center border border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white text-sm font-medium py-2 px-2 sm:px-3 rounded-lg transition-colors"> <!-- MODIFIED: px-2 sm:px-3 -->
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <!-- MODIFIED: removed mr-2 -->
                        <rect x="2" y="2" width="20" height="20" rx="5.657" ry="5.657"></rect>
                        <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
                    </svg>
                    <span class="hidden sm:inline-block ml-2 typewriter-button">Insta</span> <!-- MODIFIED: Added hidden sm:inline-block, ml-2, typewriter-button -->
                </a>
                <a href="https://github.com/brianhexer" target="_blank" rel="noopener noreferrer" class="flex items-center border border-gray-700 text-gray-700 hover:bg-gray-700 hover:text-white text-sm font-medium py-2 px-2 sm:px-3 rounded-lg transition-colors"> <!-- MODIFIED: px-2 sm:px-3 -->
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"> <!-- MODIFIED: removed mr-2 -->
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    <span class="hidden sm:inline-block ml-2 typewriter-button">GitHub</span> <!-- MODIFIED: Added hidden sm:inline-block, ml-2, typewriter-button -->
                </a>
            </div>

            <div class="mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-3">
                <button id="modal-confirm-btn" type="button" class="inline-flex w-full justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 sm:w-auto sm:text-sm transition-colors">
                    Yes, Proceed
                </button>
                <button id="modal-cancel-btn" type="button" class="mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 sm:mt-0 sm:w-auto sm:text-sm transition-colors">
                    Not Yet
                </button>
            </div>
        </div>
    </div>
    <!-- END MODAL -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- NEW: T&C and App Initialization Logic ---
            const tosPage = document.getElementById('tos-page');
            const tosAcceptBtn = document.getElementById('tos-accept-btn');
            const mainHeader = document.querySelector('.header');
            const mainContent = document.querySelector('.main-content');
            
            let appInitialized = false; // Flag to prevent double-init
            // --- END NEW ---


            // --- PWA Service Worker Registration ---
            if ('serviceWorker' in navigator) {
              navigator.serviceWorker.register('./sw.js').catch(err => {
                console.error('Service Worker registration failed:', err);
              });
            }

            // --- NEW: PWA Install Button Logic ---
            let deferredPrompt;
            const homeInstallBtn = document.getElementById('home-install-btn');

            window.addEventListener('beforeinstallprompt', (e) => {
                // Prevent the mini-infobar from appearing on mobile
                e.preventDefault();
                // Stash the event so it can be triggered later.
                deferredPrompt = e;
                // Update UI to notify the user they can install the PWA
                if (homeInstallBtn) {
                    homeInstallBtn.classList.remove('hidden');
                }
            });

            if (homeInstallBtn) {
                homeInstallBtn.addEventListener('click', async () => {
                    if (deferredPrompt) {
                        // Show the install prompt
                        deferredPrompt.prompt();
                        // Wait for the user to respond to the prompt
                        const { outcome } = await deferredPrompt.userChoice;
                        console.log(`User response to the install prompt: ${outcome}`);
                        // We've used the prompt, and can't use it again, clear it
                        deferredPrompt = null;
                        // Hide the install button
                        homeInstallBtn.classList.add('hidden');
                    }
                });
            }

            window.addEventListener('appinstalled', () => {
                // Hide the install button
                if (homeInstallBtn) {
                    homeInstallBtn.classList.add('hidden');
                }
                deferredPrompt = null;
                console.log('PWA was installed');
            });
            // --- END NEW PWA Install Logic ---


            // --- STATE MANAGEMENT ---
            const STORAGE_KEY = 'mandarinGuideProgress';
            let currentPageId = 'home';
            let progress = { completed: [] };
            let pendingNextPageId = null;
            
            // --- Modal Elements ---
            const modal = document.getElementById('next-lesson-modal');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalConfirmBtn = document.getElementById('modal-confirm-btn');
            const modalCancelBtn = document.getElementById('modal-cancel-btn');

            // --- NEW: Search Modal Elements ---
            const searchIconBtn = document.getElementById('search-icon-btn');
            const searchModal = document.getElementById('search-modal');
            const searchModalOverlay = document.getElementById('search-modal-overlay');
            const searchModalClose = document.getElementById('search-modal-close');
            const searchInput = document.getElementById('search-input');
            const searchResultsContainer = document.getElementById('search-results-container');
            
            // --- UPDATED: Collect all page IDs from the new nav links ---
            const allPageIds = ['home', ...Array.from(document.querySelectorAll('.nav-link[data-page-id]'))
                                         .map(a => a.dataset.pageId)
                                         .filter(id => id !== 'home')];
            const totalLessons = allPageIds.length - 1;
            let searchIndex = [];

            // --- NEW: App Initializer Function ---
            function initializeApp() {
                if (appInitialized) return;
                appInitialized = true;
                
                // Load progress and build search index
                migrateUserName(); // NEW: Handle old 'userName' key
                loadProgress();
                buildSearchIndex(); 
                updateWelcomeMessage(); // NEW: Update welcome message
                
                // Determine starting page
                let lastPageId = 'home';
                try {
                    // On first load (after T&C), session storage will be empty, so it defaults to 'home'
                    // On subsequent loads, it will load the last viewed page
                    const storedPageId = sessionStorage.getItem('mandarinGuideLastPage');
                    if (storedPageId && allPageIds.includes(storedPageId)) {
                        lastPageId = storedPageId;
                    }
                } catch (e) {
                    console.warn("Failed to read from sessionStorage", e);
                }
                
                // Show the determined page
                showPage(lastPageId);
                
                // Make the main app UI visible
                mainHeader.classList.remove('hidden');
                mainContent.classList.remove('hidden');
            }
            // --- END NEW ---

            // --- CORE FUNCTIONS ---

            function saveProgress() {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
                } catch (e) {
                    console.error("Failed to save progress to localStorage", e);
                }
            }

            // --- NEW: Add loadProgress function ---
            function loadProgress() {
                try {
                    const storedProgress = localStorage.getItem(STORAGE_KEY);
                    if (storedProgress) {
                        progress = JSON.parse(storedProgress);
                        if (!progress.completed) {
                            progress.completed = [];
                        }
                    } else {
                        progress = { completed: [] };
                    }
                } catch (e) {
                    console.error("Failed to load or parse progress from localStorage", e);
                    progress = { completed: [] }; // Reset on error
                }
            }
            // --- END NEW ---

            // --- NEW: Handle migration from old 'userName' key ---
            function migrateUserName() {
                try {
                    const oldName = localStorage.getItem('userName');
                    // Check if old key exists AND new key doesn't
                    if (oldName && !localStorage.getItem('userGivenName')) {
                        localStorage.setItem('userGivenName', oldName); // Move data
                        localStorage.removeItem('userName'); // Clean up old key
                    }
                } catch (e) {
                    console.warn("Could not migrate userName", e);
                }
            }

            // --- MODIFIED: Update Welcome Message ---
            function updateWelcomeMessage() {
                try {
                    const givenName = localStorage.getItem('userGivenName');
                    const surname = localStorage.getItem('userSurname');
                    const el = document.getElementById('welcome-message');

                    if (el && givenName) {
                        // Check if surname exists and isn't empty
                        const name = (surname && surname.trim() !== '') ? `${givenName} ${surname}` : givenName;
                        el.innerHTML = `Welcome ${escapeHTML(name)}! <span class="wave">üëã</span>`;
                        
                        // Re-calculate animation steps based on new name length
                        const newLength = 9 + name.length + 2; // "Welcome " (8) + name + "! " (2)
                        el.style.animation = `typing 4s steps(${newLength}, end) infinite`;
                    } else if (el) {
                        // Fallback if no name is set
                        el.innerHTML = `Welcome Buddy! <span class="wave">üëã</span>`;
                        el.style.animation = `typing 4s steps(17, end) infinite`; // Default steps
                    }
                } catch (e) {
                    console.error("Failed to update welcome message", e);
                }
            }
            // --- END MODIFIED ---

            function showPage(pageId) {
                if (!pageId) pageId = 'home';
                currentPageId = pageId;

                document.querySelectorAll('.content-page').forEach(page => {
                    page.classList.remove('active');
                });

                const activePage = document.querySelector(`.content-page[data-page-id="${pageId}"]`);
                if (activePage) {
                    activePage.classList.add('active');
                } else {
                    document.querySelector('.content-page[data-page-id="home"]').classList.add('active');
                    currentPageId = 'home';
                }
                
                // --- NEW: Save current page to session storage ---
                try {
                    sessionStorage.setItem('mandarinGuideLastPage', currentPageId);
                } catch (e) {
                    console.warn("Failed to save to sessionStorage", e);
                }
                // --- END NEW ---
                
                window.scrollTo(0, 0);
                updateUI();
            }
            
            function togglePageCompletion(pageId) {
                const btn = document.querySelector(`.mark-complete-btn[data-page-id="${pageId}"]`);
                if (progress.completed.includes(pageId)) {
                    progress.completed = progress.completed.filter(id => id !== pageId);
                    if(btn) btn.classList.remove('is-completed');
                } else {
                    progress.completed.push(pageId);
                    if(btn) btn.classList.add('is-completed');
                }
                saveProgress();
                updateUI();
            }

            function markPageAsCompleted(pageId) {
                if (pageId === 'home') return;
                
                const btn = document.querySelector(`.mark-complete-btn[data-page-id="${pageId}"]`);
                if (!progress.completed.includes(pageId)) {
                    progress.completed.push(pageId);
                    if(btn) btn.classList.add('is-completed');
                    saveProgress();
                    updateUI();
                }
            }

            function updateUI() {
                // --- UPDATED: Update nav links on home page ---
                document.querySelectorAll('.nav-link').forEach(link => {
                    const pageId = link.dataset.pageId;
                    
                    link.classList.remove('is-viewing', 'is-completed');

                    if (progress.completed.includes(pageId)) {
                        link.classList.add('is-completed');
                    }
                    if (pageId === currentPageId) {
                        link.classList.add('is-viewing');
                        // NEW: Open the parent dropdown if the active page is inside
                        const parentDropdown = link.closest('details');
                        if (parentDropdown) {
                            parentDropdown.open = true;
                        }
                    }
                });

                // Update current page's "Mark as Completed" button
                const currentCompleteBtn = document.querySelector(`.mark-complete-btn[data-page-id="${currentPageId}"]`);
                if (currentCompleteBtn) {
                    if (progress.completed.includes(currentPageId)) {
                        currentCompleteBtn.classList.add('is-completed');
                        currentCompleteBtn.querySelector('span').innerText = 'Completed!';
                    } else {
                        currentCompleteBtn.classList.remove('is-completed');
                        currentCompleteBtn.querySelector('span').innerText = 'Mark as Completed';
                    }
                }
                
                // Update main progress bar
                updateProgressBar();
            }
            
            function updateProgressBar() {
                const completedCount = progress.completed.length;
                const percent = totalLessons > 0 ? (completedCount / totalLessons) * 100 : 0;
                
                const bar = document.getElementById('progress-bar');
                const text = document.getElementById('progress-text');
                
                if (bar) bar.style.width = `${percent}%`;
                if (text) text.innerText = `${completedCount} / ${totalLessons} Completed`;
            }

            // --- NEW: Search Functions ---

            function buildSearchIndex() {
                searchIndex = [];
                allPageIds.forEach(pageId => {
                    if (pageId === 'home') return; // Don't index home page
                    
                    const pageElement = document.querySelector(`.content-page[data-page-id="${pageId}"]`);
                    if (!pageElement) return;

                    const titleEl = pageElement.querySelector('.card-title');
                    const title = titleEl ? titleEl.innerText.trim() : 'No Title';
                    
                    // Get all relevant text content, avoid script tags
                    const content = Array.from(pageElement.querySelectorAll('p, li, th, td'))
                                      .map(el => el.textContent.trim())
                                      .join(' ')
                                      .toLowerCase();
                    
                    searchIndex.push({
                        id: pageId,
                        title: title,
                        content: content,
                        snippet: pageElement.querySelector('p.text-muted') ? pageElement.querySelector('p.text-muted').innerText.trim() : 'Click to see content...'
                    });
                });
            }

            function openSearchModal() {
                if (searchModal) searchModal.setAttribute('aria-hidden', 'false');
                if (searchInput) searchInput.focus();
                performSearch(); // Show initial state
            }

            function closeSearchModal() {
                if (searchModal) searchModal.setAttribute('aria-hidden', 'true');
                if (searchInput) searchInput.value = '';
                if (searchResultsContainer) searchResultsContainer.innerHTML = '<p class="text-center text-slate-500">Type to search for lessons.</p>';
            }

            function performSearch() {
                if (!searchInput || !searchResultsContainer) return;

                const query = searchInput.value.trim().toLowerCase();
                
                if (query.length < 1) {
                    searchResultsContainer.innerHTML = '<p class="text-center text-slate-500">Type to search for lessons.</p>';
                    return;
                }

                const results = searchIndex.filter(item => 
                    item.title.toLowerCase().includes(query) || 
                    item.content.includes(query)
                );

                if (results.length === 0) {
                    searchResultsContainer.innerHTML = `<p class="text-center text-slate-500">No results found for "<strong>${escapeHTML(query)}</strong>".</p>`;
                    return;
                }

                searchResultsContainer.innerHTML = results.map(item => `
                    <a href="#" class="search-result-item" data-page-id="${item.id}">
                        <h4>${item.title}</h4>
                        <p>${escapeHTML(item.snippet)}</p>
                    </a>
                `).join('');
            }
            
            function escapeHTML(str) {
                return str.replace(/[&<>"']/g, function(match) {
                    return {
                        '&': '&amp;',
                        '<': '&lt;',
                        '>': '&gt;',
                        '"': '&quot;',
                        "'": '&#39;'
                    }[match];
                });
            }

            // --- Modal Functions (Unchanged) ---
            function openModal(nextId) {
                pendingNextPageId = nextId;
                if (modal) modal.setAttribute('aria-hidden', 'false');
            }
            
            function closeModal() {
                pendingNextPageId = null;
                if (modal) modal.setAttribute('aria-hidden', 'true');
            }

            // --- REMOVED: SIDEBAR TOGGLE ---

            // --- EVENT LISTENERS ---

            // --- UPDATED: Nav Link Clicks ---
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = e.currentTarget.dataset.pageId;
                    showPage(pageId);
                    // REMOVED: Sidebar close logic
                });
            });
            
            // "Mark as Completed" Button Clicks (Unchanged)
            document.querySelectorAll('.mark-complete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const pageId = e.currentTarget.dataset.pageId;
                    togglePageCompletion(pageId);
                });
            });

            // "Next Page" Button Clicks (MODIFIED)
            document.querySelectorAll('.next-page-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    // --- MODIFICATION START ---
                    
                    // Ignore clicks on the install button, it has its own listener
                    if (e.currentTarget.id === 'home-install-btn') {
                        return;
                    }
                    
                    const nextId = e.currentTarget.dataset.nextPageId;
                    if (!nextId) return; // Do nothing if there's no next page defined

                    const currentPage = e.currentTarget.closest('.content-page');
                    
                    // Special case for home page "Start Learning" button
                    if (currentPage && currentPage.dataset.pageId === 'home') {
                        showPage(nextId);
                    } else {
                        // All other "Next Lesson" buttons
                        openModal(nextId);
                    }
                    // --- MODIFICATION END ---
                });
            });

            // "Previous Page" Button Clicks (Unchanged)
            document.querySelectorAll('.prev-page-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const prevId = e.currentTarget.dataset.prevPageId;
                    showPage(prevId);
                });
            });

            // "Back to Home" Button Clicks (Unchanged)
            document.querySelectorAll('.home-page-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const homeId = e.currentTarget.dataset.homePageId || 'home';
                    showPage(homeId);
                });
            });

            // --- Modal Event Listeners (Unchanged) ---
            if (modalConfirmBtn) {
                modalConfirmBtn.addEventListener('click', () => {
                    if (currentPageId && currentPageId !== 'home') {
                        markPageAsCompleted(currentPageId);
                    }
                    if (pendingNextPageId) {
                        showPage(pendingNextPageId);
                    }
                    closeModal();
                });
            }
            if (modalCancelBtn) modalCancelBtn.addEventListener('click', closeModal);
            if (modalOverlay) modalOverlay.addEventListener('click', closeModal);

            // --- NEW: Search Event Listeners ---
            if (searchIconBtn) {
                searchIconBtn.addEventListener('click', openSearchModal);
            }
            if (searchModalClose) {
                searchModalClose.addEventListener('click', closeSearchModal);
            }
            if (searchModalOverlay) {
                searchModalOverlay.addEventListener('click', closeSearchModal);
            }
            if (searchInput) {
                searchInput.addEventListener('input', performSearch);
            }
            
            // Handle clicks on search results
            if (searchResultsContainer) {
                 searchResultsContainer.addEventListener('click', (e) => {
                    const resultItem = e.target.closest('.search-result-item');
                    if (resultItem) {
                        e.preventDefault();
                        const pageId = resultItem.dataset.pageId;
                        showPage(pageId);
                        closeSearchModal();
                    }
                 });
            }

            // --- NEW: Accordion for Nav Dropdowns ---
            const allDropdowns = document.querySelectorAll('.nav-dropdown');
            allDropdowns.forEach(dropdown => {
                dropdown.addEventListener('toggle', (e) => {
                    // Only act if the dropdown is being opened
                    if (e.target.open) {
                        // Close all *other* dropdowns
                        allDropdowns.forEach(d => {
                            if (d !== e.target) {
                                d.open = false;
                            }
                        });
                    }
                });
            });


            // --- SPEECH SYNTHESIS (Unchanged) ---
            let voices = [];
            let synth = window.speechSynthesis;
            
            function getMandarinVoice() {
                const preferredVoices = voices.filter(v => v.lang === 'zh-CN');
                if (preferredVoices.length > 0) return preferredVoices[0];
                const anyChineseVoice = voices.find(v => v.lang.startsWith('zh'));
                if (anyChineseVoice) return anyChineseVoice;
                return null;
            }

            function populateVoiceList() {
                if (synth) {
                    voices = synth.getVoices();
                    addSpeakButtons(); 
                } else {
                    console.warn("Speech Synthesis not supported or not initialized yet.");
                }
            }
            
             if (synth) {
                if (synth.getVoices().length > 0) {
                    populateVoiceList();
                } else {
                    synth.onvoiceschanged = populateVoiceList;
                    setTimeout(() => {
                        if (voices.length === 0) {
                            populateVoiceList(); 
                        }
                    }, 500);
                }
            } else {
                console.error("Speech Synthesis is not supported in this browser.");
                addSpeakButtons();
            }

            function speak(text, lang = 'zh-CN') {
                if (!synth) {
                    console.warn('Your browser does not support speech synthesis.');
                    return;
                }
                if (synth.speaking) synth.cancel();

                let utterance = new SpeechSynthesisUtterance(text);
                let mandarinVoice = getMandarinVoice();
                
                if (mandarinVoice) {
                    utterance.voice = mandarinVoice;
                    utterance.lang = mandarinVoice.lang; 
                } else {
                    utterance.lang = lang;
                    console.warn("No specific Mandarin voice found. Using default voice for lang=" + lang);
                }
                
                utterance.rate = 0.9;
                utterance.pitch = 1; 
                utterance.onerror = (event) => console.error('SpeechSynthesisUtterance.onerror', event);
                synth.speak(utterance);
            }

             function addSpeakButtons() {
                const elements = document.querySelectorAll('.hanzi, .speakable-pinyin');
                elements.forEach(el => {
                    if (el.dataset.hasButton === 'true') return; 
                    el.dataset.hasButton = 'true';

                    const textToSpeak = el.getAttribute('data-speak') || el.innerText;
                    if (!textToSpeak || textToSpeak.trim() === '') return;

                    const btnWrapper = document.createElement('span');
                    const btn = document.createElement('button');
                    btn.setAttribute('aria-label', `Listen to ${textToSpeak}`);
                    btn.className = 'listen-btn p-1 rounded-md transform active:scale-90 transition-transform';
                    btn.innerHTML = `<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9 9 0 0119 10a9 9 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7 7 0 0017 10a7 7 0 00-1.757-4.95 1 1 0 010-1.121z" clip-rule="evenodd"></path></svg>`;
                    
                    if (synth) {
                        btn.onclick = (e) => {
                            e.stopPropagation(); 
                            speak(textToSpeak);
                        };
                    } else {
                        btn.disabled = true;
                        btn.style.opacity = '0.5';
                        btn.style.cursor = 'not-allowed';
                    }
                    
                    btnWrapper.appendChild(btn);

                    if (el.parentNode.classList.contains('pinyin') && el.parentNode.classList.contains('flex')) {
                        btnWrapper.className = 'listen-btn-wrapper inline-flex';
                        el.parentNode.appendChild(btnWrapper);
                    } 
                    else if (el.classList.contains('pinyin')) {
                        btnWrapper.className = 'listen-btn-wrapper inline-block ml-1 align-middle';
                        if (el.nextSibling) el.parentNode.insertBefore(btnWrapper, el.nextSibling);
                        else el.parentNode.appendChild(btnWrapper);
                    }
                    else if (el.classList.contains('hanzi')) {
                        btnWrapper.className = 'listen-btn-wrapper inline-block ml-1 align-middle';
                        if (el.nextSibling) el.parentNode.insertBefore(btnWrapper, el.nextSibling);
                        else el.parentNode.appendChild(btnWrapper);
                    }
                });
            }
            
            // --- INITIALIZATION (MOVED) ---
            // The original initialization logic is now triggered by the T&C check.

            // --- NEW: T&C Check ---
            // This is now the main entry point for the app logic
            if (localStorage.getItem('hasAcceptedTOS') === 'true') {
                tosPage.classList.add('hidden');
                initializeApp(); // Run app immediately
            } else {
                // T&C not accepted. Hide main app and wait for accept button.
                mainHeader.classList.add('hidden');
                mainContent.classList.add('hidden');
                tosPage.classList.remove('hidden'); // Ensure it's visible
                
                const givenNameInput = document.getElementById('given-name-input');
                const surnameInput = document.getElementById('surname-input');
                const givenNameError = document.getElementById('given-name-error');
                const surnameError = document.getElementById('surname-error');

                tosAcceptBtn.addEventListener('click', () => {
                    const givenName = givenNameInput.value.trim();
                    const surname = surnameInput.value.trim();
                    const hasNumber = /\d/; // Regex to check for numbers
                    let isValid = true;

                    // Reset errors
                    givenNameError.textContent = "";
                    surnameError.textContent = "";

                    // --- Validation ---
                    if (givenName.length === 0) {
                        givenNameError.textContent = "Please enter your given name.";
                        isValid = false;
                    } else if (hasNumber.test(givenName)) {
                        givenNameError.textContent = "Name cannot contain numbers.";
                        isValid = false;
                    }

                    if (surname.length === 0) {
                        surnameError.textContent = "Please enter your surname.";
                        isValid = false;
                    } else if (hasNumber.test(surname)) {
                        surnameError.textContent = "Surname cannot contain numbers.";
                        isValid = false;
                    }
                    
                    if (!isValid) {
                        return; // Stop execution
                    }

                    // Name is valid, proceed
                    localStorage.setItem('hasAcceptedTOS', 'true');
                    localStorage.setItem('userGivenName', givenName); // Save given name
                    localStorage.setItem('userSurname', surname); // Save surname
                    
                    tosPage.classList.add('hidden');
                    initializeApp();
                    // On first accept, *always* show the home page, ignoring session storage
                    showPage('home'); 
                });
            }
            // --- END NEW T&C Check ---
        });
    </script>
</body>
</html>


































